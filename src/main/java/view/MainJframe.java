/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package view;

import java.awt.CardLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.Image;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Collection;
import java.util.Collections;
import java.util.Comparator;
import java.util.Date;
import java.util.List;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JFileChooser;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.SpinnerModel;
import javax.swing.SpinnerNumberModel;
import javax.swing.filechooser.FileNameExtensionFilter;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableRowSorter;
import BEANS.ChuyenPhong;
import BEANS.KyLuat;
import BEANS.Phong;
import BEANS.QuanLy;
import BEANS.SinhVien;
import BEANS.ThongKeKL;
import BEANS.ThongKeSV;
import BEANS.ThuePhong;
import BEANS.TraPhong;
import org.apache.poi.ss.usermodel.CellStyle;
import org.apache.poi.ss.usermodel.CellType;
import org.apache.poi.ss.usermodel.Font;
import org.apache.poi.xssf.usermodel.XSSFCell;
import org.apache.poi.xssf.usermodel.XSSFRow;
import org.apache.poi.xssf.usermodel.XSSFSheet;
import org.apache.poi.xssf.usermodel.XSSFWorkbook;
import org.jfree.chart.ChartFactory;
import org.jfree.chart.ChartPanel;
import org.jfree.chart.JFreeChart;
import org.jfree.chart.plot.CategoryPlot;
import org.jfree.chart.plot.PlotOrientation;
import org.jfree.data.category.DefaultCategoryDataset;
import Controller.ChuyenPhongService;
import Controller.KyLuatService;
import Controller.PhongService;
import Controller.QuanLyService;
import Controller.SinhVienService;
import Controller.ThuePhongService;
import Controller.TraPhongService;
import javax.swing.table.TableColumnModel;

/**
 *
 * @author Admin
 */
public class MainJframe extends javax.swing.JFrame {
    
    SimpleDateFormat df = new SimpleDateFormat("yyyy-MM-dd");
    JFileChooser fileChooser;
    String maQL;
//    Phòng
    PhongService phongService;
    Phong p;
    List<Phong> listPhong;
    DefaultTableModel defaultPModel;
//    Sinh Viên
    DefaultTableModel defaultSVModel;
    SinhVienService sinhVienService;
    SinhVien sV;
    List<SinhVien> listSV;
//    Thuê Phòng
    ThuePhongService thuePhongService;
    ThuePhong tP;
    List<ThuePhong> listTP;
    DefaultTableModel defaultTPModel;
    List<ThongKeSV> listTK;
//    Kỷ Luật
    KyLuatService kyLuatService;
    List<KyLuat> listKL;
    KyLuat kL;
    DefaultTableModel defaultKLModel;
    List<ThongKeKL> listTKKL;
//    Quản Lý:
    QuanLyService quanLyService;
    List<QuanLy> listQL;
    QuanLy qL;
//    Chuyển Phòng:
    ChuyenPhongService chuyenPhongService;
    List<ChuyenPhong> listCP;
    ChuyenPhong cP;
    DefaultTableModel defaultCPModel;
//  Trả Phòng:
    TraPhongService traPhongService;
    List<TraPhong> listTraP;
    TraPhong traP;
    DefaultTableModel defaultTraPModel;

    /**
     * Creates new form MainJframe
     */
    public MainJframe(String userName) {
        initComponents();
        changeTabMenu(heThongPanel);
        callListData();
        setTableSV();
        setTablePhong();
        setTableTP();
        setTableKL();
        setTableCP();
        setTableTraP();
        
        chuyenThongKe();
        
        maQL = userName;
        luuLaiCPButton.setVisible(false);
        luuLaiKLButton.setVisible(false);
        luuLaiPhongButton.setVisible(false);
        luuLaiTraPButton.setVisible(false);
        choThueLaiButton.setVisible(false);
        
        setVisibleSearch(false);
        SoftByHeaderColumn();

//        admin
        thuTienMenu.setVisible(false);
        qLThietBiButton.setVisible(false);
        qLTaiKhoanMenu.setVisible(false);
        if (userName.equals("admin")) {
            thuTienMenu.setVisible(true);
            qLThietBiButton.setVisible(true);
            qLTaiKhoanMenu.setVisible(true);
        }
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        gioiTinhButtonGroup = new javax.swing.ButtonGroup();
        searchButtonGroup = new javax.swing.ButtonGroup();
        jPanel1 = new javax.swing.JPanel();
        heThongPanel = new javax.swing.JPanel();
        jPanel25 = new javax.swing.JPanel();
        jPanel27 = new javax.swing.JPanel();
        jLabel46 = new javax.swing.JLabel();
        quanLySVPanel = new javax.swing.JPanel();
        quanLySVLabel = new javax.swing.JLabel();
        quanLyTPPanel = new javax.swing.JPanel();
        quanLyTPLabel = new javax.swing.JLabel();
        jPanel30 = new javax.swing.JPanel();
        quanLyTraPLabel = new javax.swing.JLabel();
        jPanel31 = new javax.swing.JPanel();
        quanLyCPLabel = new javax.swing.JLabel();
        jPanel32 = new javax.swing.JPanel();
        quanLyPhongLabel = new javax.swing.JLabel();
        jPanel33 = new javax.swing.JPanel();
        quanLyKyLuatLabel = new javax.swing.JLabel();
        jButton1 = new javax.swing.JButton();
        jSeparator26 = new javax.swing.JSeparator();
        jPanel26 = new javax.swing.JPanel();
        TKPhongPanel = new javax.swing.JPanel();
        TKKyLuatPanel = new javax.swing.JPanel();
        TKThuePhongPanel = new javax.swing.JPanel();
        namTKCbb = new javax.swing.JComboBox<>();
        jLabel44 = new javax.swing.JLabel();
        jLabel45 = new javax.swing.JLabel();
        thangTKCbb = new javax.swing.JComboBox<>();
        sinhVienPanel = new javax.swing.JPanel();
        jToolBar1 = new javax.swing.JToolBar();
        searchSVButton = new javax.swing.JButton();
        jSeparator27 = new javax.swing.JToolBar.Separator();
        jButton13 = new javax.swing.JButton();
        jSeparator1 = new javax.swing.JToolBar.Separator();
        chuyenPhongSVButton = new javax.swing.JButton();
        jSeparator28 = new javax.swing.JToolBar.Separator();
        traPhongSVButton = new javax.swing.JButton();
        jSeparator29 = new javax.swing.JToolBar.Separator();
        kyLuatSVButton = new javax.swing.JButton();
        jPanel2 = new javax.swing.JPanel();
        jPanel3 = new javax.swing.JPanel();
        anhSVLabel = new javax.swing.JLabel();
        chonAnhSVButton = new javax.swing.JButton();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        hoTenSVTF = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        namSVRB = new javax.swing.JRadioButton();
        nuSVRB = new javax.swing.JRadioButton();
        diaChiSVTF = new javax.swing.JTextField();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        khoaSVCbb = new javax.swing.JComboBox<>();
        nganhSVCbb = new javax.swing.JComboBox<>();
        jLabel11 = new javax.swing.JLabel();
        jLabel12 = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        soLanViPhamSVTF = new javax.swing.JTextField();
        trangThaiSVTF = new javax.swing.JTextField();
        maPhongSVTF = new javax.swing.JTextField();
        suaSVButton = new javax.swing.JButton();
        refreshSVButton = new javax.swing.JButton();
        jSeparator15 = new javax.swing.JSeparator();
        maSVFT = new javax.swing.JFormattedTextField();
        sdtSVTF = new javax.swing.JFormattedTextField();
        ngaySinhSVDV = new com.toedter.calendar.JDateChooser();
        ngayVaoSVDC = new com.toedter.calendar.JDateChooser();
        maSVRb = new javax.swing.JRadioButton();
        hoTenRb = new javax.swing.JRadioButton();
        nganhCb = new javax.swing.JCheckBox();
        khoaCb = new javax.swing.JCheckBox();
        searchSV1Button = new javax.swing.JButton();
        xuatFileSVButton = new javax.swing.JButton();
        jScrollPane1 = new javax.swing.JScrollPane();
        sinhVienTable = new javax.swing.JTable();
        jSeparator7 = new javax.swing.JSeparator();
        danhSachSVLabel = new javax.swing.JLabel();
        jSeparator9 = new javax.swing.JSeparator();
        phongPanel = new javax.swing.JPanel();
        jToolBar2 = new javax.swing.JToolBar();
        jButton6 = new javax.swing.JButton();
        jSeparator2 = new javax.swing.JToolBar.Separator();
        jButton7 = new javax.swing.JButton();
        jSeparator3 = new javax.swing.JToolBar.Separator();
        jButton8 = new javax.swing.JButton();
        jSeparator4 = new javax.swing.JToolBar.Separator();
        qLThietBiButton = new javax.swing.JButton();
        jPanel4 = new javax.swing.JPanel();
        jPanel5 = new javax.swing.JPanel();
        jLabel14 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        jLabel16 = new javax.swing.JLabel();
        jLabel17 = new javax.swing.JLabel();
        soGiuongSp = new javax.swing.JSpinner();
        loaiPhongCbb = new javax.swing.JComboBox<>();
        soNguoiSp = new javax.swing.JSpinner();
        jLabel18 = new javax.swing.JLabel();
        giaTienFT = new javax.swing.JFormattedTextField();
        themPhongButton = new javax.swing.JButton();
        xoaPhongButton = new javax.swing.JButton();
        suaPhongButton = new javax.swing.JButton();
        refreshButton = new javax.swing.JButton();
        maPhongFT = new javax.swing.JFormattedTextField();
        luuLaiPhongButton = new javax.swing.JButton();
        jScrollPane2 = new javax.swing.JScrollPane();
        phongTable = new javax.swing.JTable();
        jSeparator6 = new javax.swing.JSeparator();
        jSeparator5 = new javax.swing.JSeparator();
        kyLuatPanel = new javax.swing.JPanel();
        jToolBar3 = new javax.swing.JToolBar();
        jButton16 = new javax.swing.JButton();
        jSeparator10 = new javax.swing.JToolBar.Separator();
        thongKeKLButton = new javax.swing.JButton();
        jSeparator11 = new javax.swing.JToolBar.Separator();
        jPanel6 = new javax.swing.JPanel();
        jScrollPane3 = new javax.swing.JScrollPane();
        kyLuatTable = new javax.swing.JTable();
        jPanel7 = new javax.swing.JPanel();
        jLabel19 = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        jLabel21 = new javax.swing.JLabel();
        maPhieuKLTF = new javax.swing.JTextField();
        jScrollPane4 = new javax.swing.JScrollPane();
        noiDungKLTA = new javax.swing.JTextArea();
        jLabel22 = new javax.swing.JLabel();
        jLabel23 = new javax.swing.JLabel();
        jLabel24 = new javax.swing.JLabel();
        maSVKLTF = new javax.swing.JTextField();
        maQLKLTF = new javax.swing.JTextField();
        jScrollPane5 = new javax.swing.JScrollPane();
        hinhThucPhatKLTA = new javax.swing.JTextArea();
        jLabel25 = new javax.swing.JLabel();
        themKyLuatButton = new javax.swing.JButton();
        refreshKLButton = new javax.swing.JButton();
        ngayViPhamDC = new com.toedter.calendar.JDateChooser();
        suaKLButton = new javax.swing.JButton();
        loaiKLCbb = new javax.swing.JComboBox<>();
        luuLaiKLButton = new javax.swing.JButton();
        jSeparator14 = new javax.swing.JSeparator();
        jSeparator13 = new javax.swing.JSeparator();
        thuePhongPanel = new javax.swing.JPanel();
        jToolBar4 = new javax.swing.JToolBar();
        jButton3 = new javax.swing.JButton();
        jSeparator21 = new javax.swing.JToolBar.Separator();
        jButton2 = new javax.swing.JButton();
        jSeparator16 = new javax.swing.JToolBar.Separator();
        jButton10 = new javax.swing.JButton();
        jSeparator17 = new javax.swing.JToolBar.Separator();
        jButton15 = new javax.swing.JButton();
        jPanel8 = new javax.swing.JPanel();
        jPanel9 = new javax.swing.JPanel();
        anhSVTPLabel = new javax.swing.JLabel();
        chonAnhSVTPButton = new javax.swing.JButton();
        jLabel27 = new javax.swing.JLabel();
        jLabel28 = new javax.swing.JLabel();
        jLabel29 = new javax.swing.JLabel();
        hoTenSVTPTF = new javax.swing.JTextField();
        jLabel30 = new javax.swing.JLabel();
        jLabel31 = new javax.swing.JLabel();
        jLabel32 = new javax.swing.JLabel();
        namTPRadioButton = new javax.swing.JRadioButton();
        nuTPRadioButton = new javax.swing.JRadioButton();
        diaChiSVTPTF = new javax.swing.JTextField();
        jLabel33 = new javax.swing.JLabel();
        jLabel35 = new javax.swing.JLabel();
        khoaSVTPCbb = new javax.swing.JComboBox<>();
        nganhSVTPCbb = new javax.swing.JComboBox<>();
        jLabel36 = new javax.swing.JLabel();
        suaSVTPButton = new javax.swing.JButton();
        refreshSVTPButton = new javax.swing.JButton();
        jSeparator18 = new javax.swing.JSeparator();
        jLabel37 = new javax.swing.JLabel();
        maQLTPTF = new javax.swing.JTextField();
        maPhongTPCbb = new javax.swing.JComboBox<>();
        themSVTPButton = new javax.swing.JButton();
        maSVTPFT = new javax.swing.JFormattedTextField();
        sdtSVTPFT = new javax.swing.JFormattedTextField();
        jLabel38 = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        maPhieuTPTF = new javax.swing.JTextField();
        ngaySinhSVTPDC = new com.toedter.calendar.JDateChooser();
        ngayVaoSVTPDC = new com.toedter.calendar.JDateChooser();
        choThueLaiButton = new javax.swing.JButton();
        jScrollPane6 = new javax.swing.JScrollPane();
        thuePhongTable = new javax.swing.JTable();
        jSeparator19 = new javax.swing.JSeparator();
        jSeparator20 = new javax.swing.JSeparator();
        chuyenPhongPanel = new javax.swing.JPanel();
        jToolBar5 = new javax.swing.JToolBar();
        jSeparator22 = new javax.swing.JSeparator();
        jPanel10 = new javax.swing.JPanel();
        jPanel11 = new javax.swing.JPanel();
        jLabel26 = new javax.swing.JLabel();
        jLabel34 = new javax.swing.JLabel();
        jLabel39 = new javax.swing.JLabel();
        maPhongMoiCbb = new javax.swing.JComboBox<>();
        maPhieuCPTF = new javax.swing.JTextField();
        jLabel40 = new javax.swing.JLabel();
        jLabel41 = new javax.swing.JLabel();
        ngayChuyenDC = new com.toedter.calendar.JDateChooser();
        jLabel42 = new javax.swing.JLabel();
        maQLCPTF = new javax.swing.JTextField();
        jLabel43 = new javax.swing.JLabel();
        jScrollPane7 = new javax.swing.JScrollPane();
        liDoCPTA = new javax.swing.JTextArea();
        chuyenPhongButton = new javax.swing.JToggleButton();
        suaCPButton = new javax.swing.JButton();
        refreshCPButton = new javax.swing.JButton();
        luuLaiCPButton = new javax.swing.JButton();
        maPhongCuTF = new javax.swing.JTextField();
        maSVCPFT = new javax.swing.JFormattedTextField();
        jSeparator23 = new javax.swing.JSeparator();
        jPanel12 = new javax.swing.JPanel();
        jScrollPane8 = new javax.swing.JScrollPane();
        chuyenPhongTable = new javax.swing.JTable();
        traPhongPanel = new javax.swing.JPanel();
        jToolBar6 = new javax.swing.JToolBar();
        jSeparator24 = new javax.swing.JSeparator();
        jPanel13 = new javax.swing.JPanel();
        jPanel23 = new javax.swing.JPanel();
        jLabel107 = new javax.swing.JLabel();
        maPhieuTraPTF = new javax.swing.JTextField();
        jLabel108 = new javax.swing.JLabel();
        ngayTraDC = new com.toedter.calendar.JDateChooser();
        traPhongButton = new javax.swing.JToggleButton();
        jLabel109 = new javax.swing.JLabel();
        jLabel110 = new javax.swing.JLabel();
        maQLTraPTF = new javax.swing.JTextField();
        luuLaiTraPButton = new javax.swing.JButton();
        jLabel112 = new javax.swing.JLabel();
        suaTraPButton = new javax.swing.JButton();
        jLabel113 = new javax.swing.JLabel();
        jScrollPane18 = new javax.swing.JScrollPane();
        liDoTraPTA = new javax.swing.JTextArea();
        refreshTraPButton = new javax.swing.JButton();
        maPhongTraPTF = new javax.swing.JTextField();
        maSVTraPFT = new javax.swing.JFormattedTextField();
        jSeparator25 = new javax.swing.JSeparator();
        jPanel24 = new javax.swing.JPanel();
        jScrollPane19 = new javax.swing.JScrollPane();
        traPhongTable = new javax.swing.JTable();
        jMenuBar1 = new javax.swing.JMenuBar();
        heThongMenu = new javax.swing.JMenu();
        sinhVienMenu = new javax.swing.JMenu();
        phongMenu = new javax.swing.JMenu();
        kyLuatMenu = new javax.swing.JMenu();
        qLPhongMenu = new javax.swing.JMenu();
        thuePhongMenu = new javax.swing.JMenuItem();
        chuyenPhongMenu = new javax.swing.JMenuItem();
        traPhongMenu = new javax.swing.JMenuItem();
        thuTienMenu = new javax.swing.JMenu();
        taiKhoanMenu = new javax.swing.JMenu();
        qLTaiKhoanMenu = new javax.swing.JMenu();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Kí túc xá Phú Xuân");

        jPanel27.setBackground(new java.awt.Color(0, 0, 102));

        jLabel46.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        jLabel46.setForeground(new java.awt.Color(255, 255, 255));
        jLabel46.setText("KTX ĐH PHÚ XUÂN");

        javax.swing.GroupLayout jPanel27Layout = new javax.swing.GroupLayout(jPanel27);
        jPanel27.setLayout(jPanel27Layout);
        jPanel27Layout.setHorizontalGroup(
            jPanel27Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel27Layout.createSequentialGroup()
                .addGap(37, 37, 37)
                .addComponent(jLabel46)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel27Layout.setVerticalGroup(
            jPanel27Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel27Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel46, javax.swing.GroupLayout.DEFAULT_SIZE, 59, Short.MAX_VALUE)
                .addContainerGap())
        );

        quanLySVPanel.setBackground(new java.awt.Color(0, 0, 120));
        quanLySVPanel.setForeground(new java.awt.Color(255, 204, 0));

        quanLySVLabel.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        quanLySVLabel.setForeground(new java.awt.Color(255, 204, 0));
        quanLySVLabel.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Users.png"))); // NOI18N
        quanLySVLabel.setText("Quản Lý Sinh Viên");
        quanLySVLabel.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                quanLySVLabelMouseClicked(evt);
            }
        });

        javax.swing.GroupLayout quanLySVPanelLayout = new javax.swing.GroupLayout(quanLySVPanel);
        quanLySVPanel.setLayout(quanLySVPanelLayout);
        quanLySVPanelLayout.setHorizontalGroup(
            quanLySVPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(quanLySVPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(quanLySVLabel)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        quanLySVPanelLayout.setVerticalGroup(
            quanLySVPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(quanLySVPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(quanLySVLabel)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        quanLyTPPanel.setBackground(new java.awt.Color(0, 0, 120));
        quanLyTPPanel.setForeground(new java.awt.Color(255, 204, 0));

        quanLyTPLabel.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        quanLyTPLabel.setForeground(new java.awt.Color(255, 204, 0));
        quanLyTPLabel.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Open door.png"))); // NOI18N
        quanLyTPLabel.setText("Quản Lý Thuê Phòng");
        quanLyTPLabel.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                quanLyTPLabelMouseClicked(evt);
            }
        });

        javax.swing.GroupLayout quanLyTPPanelLayout = new javax.swing.GroupLayout(quanLyTPPanel);
        quanLyTPPanel.setLayout(quanLyTPPanelLayout);
        quanLyTPPanelLayout.setHorizontalGroup(
            quanLyTPPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(quanLyTPPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(quanLyTPLabel)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        quanLyTPPanelLayout.setVerticalGroup(
            quanLyTPPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, quanLyTPPanelLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(quanLyTPLabel)
                .addContainerGap())
        );

        jPanel30.setBackground(new java.awt.Color(0, 0, 120));
        jPanel30.setForeground(new java.awt.Color(255, 204, 0));

        quanLyTraPLabel.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        quanLyTraPLabel.setForeground(new java.awt.Color(255, 204, 0));
        quanLyTraPLabel.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Exit.png"))); // NOI18N
        quanLyTraPLabel.setText("Quản Lý Trả Phòng");
        quanLyTraPLabel.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                quanLyTraPLabelMouseClicked(evt);
            }
        });

        javax.swing.GroupLayout jPanel30Layout = new javax.swing.GroupLayout(jPanel30);
        jPanel30.setLayout(jPanel30Layout);
        jPanel30Layout.setHorizontalGroup(
            jPanel30Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel30Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(quanLyTraPLabel)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel30Layout.setVerticalGroup(
            jPanel30Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel30Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(quanLyTraPLabel)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel31.setBackground(new java.awt.Color(0, 0, 120));
        jPanel31.setForeground(new java.awt.Color(255, 204, 0));

        quanLyCPLabel.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        quanLyCPLabel.setForeground(new java.awt.Color(255, 204, 0));
        quanLyCPLabel.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Closed door.png"))); // NOI18N
        quanLyCPLabel.setText("Quản Lý Chuyển Phòng");
        quanLyCPLabel.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                quanLyCPLabelMouseClicked(evt);
            }
        });

        javax.swing.GroupLayout jPanel31Layout = new javax.swing.GroupLayout(jPanel31);
        jPanel31.setLayout(jPanel31Layout);
        jPanel31Layout.setHorizontalGroup(
            jPanel31Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel31Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(quanLyCPLabel)
                .addContainerGap(38, Short.MAX_VALUE))
        );
        jPanel31Layout.setVerticalGroup(
            jPanel31Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel31Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(quanLyCPLabel)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel32.setBackground(new java.awt.Color(0, 0, 120));
        jPanel32.setForeground(new java.awt.Color(255, 204, 0));

        quanLyPhongLabel.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        quanLyPhongLabel.setForeground(new java.awt.Color(255, 204, 0));
        quanLyPhongLabel.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Home.png"))); // NOI18N
        quanLyPhongLabel.setText("Quản Lý Phòng");
        quanLyPhongLabel.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                quanLyPhongLabelMouseClicked(evt);
            }
        });

        javax.swing.GroupLayout jPanel32Layout = new javax.swing.GroupLayout(jPanel32);
        jPanel32.setLayout(jPanel32Layout);
        jPanel32Layout.setHorizontalGroup(
            jPanel32Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel32Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(quanLyPhongLabel)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel32Layout.setVerticalGroup(
            jPanel32Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel32Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(quanLyPhongLabel)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel33.setBackground(new java.awt.Color(0, 0, 120));
        jPanel33.setForeground(new java.awt.Color(255, 204, 0));

        quanLyKyLuatLabel.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        quanLyKyLuatLabel.setForeground(new java.awt.Color(255, 204, 0));
        quanLyKyLuatLabel.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Favourites.png"))); // NOI18N
        quanLyKyLuatLabel.setText("Quản Lý Kỷ Luật");
        quanLyKyLuatLabel.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                quanLyKyLuatLabelMouseClicked(evt);
            }
        });

        javax.swing.GroupLayout jPanel33Layout = new javax.swing.GroupLayout(jPanel33);
        jPanel33.setLayout(jPanel33Layout);
        jPanel33Layout.setHorizontalGroup(
            jPanel33Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel33Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(quanLyKyLuatLabel)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel33Layout.setVerticalGroup(
            jPanel33Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel33Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(quanLyKyLuatLabel)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jButton1.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jButton1.setForeground(new java.awt.Color(0, 0, 102));
        jButton1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Log out.png"))); // NOI18N
        jButton1.setText("Log Out");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel25Layout = new javax.swing.GroupLayout(jPanel25);
        jPanel25.setLayout(jPanel25Layout);
        jPanel25Layout.setHorizontalGroup(
            jPanel25Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel27, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jPanel25Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel25Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(quanLySVPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(quanLyTPPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel31, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel30, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel32, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel33, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(jPanel25Layout.createSequentialGroup()
                        .addComponent(jButton1)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        jPanel25Layout.setVerticalGroup(
            jPanel25Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel25Layout.createSequentialGroup()
                .addComponent(jPanel27, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(quanLySVPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(quanLyTPPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jPanel31, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jPanel30, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jPanel32, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jPanel33, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 77, Short.MAX_VALUE)
                .addComponent(jButton1)
                .addContainerGap())
        );

        jSeparator26.setOrientation(javax.swing.SwingConstants.VERTICAL);

        javax.swing.GroupLayout TKPhongPanelLayout = new javax.swing.GroupLayout(TKPhongPanel);
        TKPhongPanel.setLayout(TKPhongPanelLayout);
        TKPhongPanelLayout.setHorizontalGroup(
            TKPhongPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 410, Short.MAX_VALUE)
        );
        TKPhongPanelLayout.setVerticalGroup(
            TKPhongPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 240, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout TKKyLuatPanelLayout = new javax.swing.GroupLayout(TKKyLuatPanel);
        TKKyLuatPanel.setLayout(TKKyLuatPanelLayout);
        TKKyLuatPanelLayout.setHorizontalGroup(
            TKKyLuatPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 410, Short.MAX_VALUE)
        );
        TKKyLuatPanelLayout.setVerticalGroup(
            TKKyLuatPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 0, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout TKThuePhongPanelLayout = new javax.swing.GroupLayout(TKThuePhongPanel);
        TKThuePhongPanel.setLayout(TKThuePhongPanelLayout);
        TKThuePhongPanelLayout.setHorizontalGroup(
            TKThuePhongPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 0, Short.MAX_VALUE)
        );
        TKThuePhongPanelLayout.setVerticalGroup(
            TKThuePhongPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 247, Short.MAX_VALUE)
        );

        namTKCbb.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "2022", "2021" }));
        namTKCbb.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                namTKCbbActionPerformed(evt);
            }
        });

        jLabel44.setText("Năm");

        jLabel45.setText("Tháng:");

        thangTKCbb.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Tháng 1", "Tháng 2", "Tháng 3", "Tháng 4", "Tháng 5", "Tháng 6", "Tháng 7", "Tháng 8", "Tháng 9", "Tháng 10", "Tháng 11", "Tháng 12" }));
        thangTKCbb.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                thangTKCbbActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel26Layout = new javax.swing.GroupLayout(jPanel26);
        jPanel26.setLayout(jPanel26Layout);
        jPanel26Layout.setHorizontalGroup(
            jPanel26Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel26Layout.createSequentialGroup()
                .addComponent(TKPhongPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 46, Short.MAX_VALUE)
                .addComponent(TKKyLuatPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(jPanel26Layout.createSequentialGroup()
                .addGroup(jPanel26Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(TKThuePhongPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(jPanel26Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(jLabel45)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(thangTKCbb, javax.swing.GroupLayout.PREFERRED_SIZE, 106, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jLabel44, javax.swing.GroupLayout.PREFERRED_SIZE, 35, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(namTKCbb, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
        );
        jPanel26Layout.setVerticalGroup(
            jPanel26Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel26Layout.createSequentialGroup()
                .addGroup(jPanel26Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(TKPhongPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(TKKyLuatPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel26Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(namTKCbb, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel44)
                    .addComponent(jLabel45)
                    .addComponent(thangTKCbb, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(TKThuePhongPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        javax.swing.GroupLayout heThongPanelLayout = new javax.swing.GroupLayout(heThongPanel);
        heThongPanel.setLayout(heThongPanelLayout);
        heThongPanelLayout.setHorizontalGroup(
            heThongPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(heThongPanelLayout.createSequentialGroup()
                .addComponent(jPanel25, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jSeparator26, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel26, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        heThongPanelLayout.setVerticalGroup(
            heThongPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jSeparator26)
            .addComponent(jPanel26, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jPanel25, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        jToolBar1.setRollover(true);

        searchSVButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        searchSVButton.setForeground(new java.awt.Color(0, 0, 102));
        searchSVButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Search.png"))); // NOI18N
        searchSVButton.setText("Tìm Kiếm");
        searchSVButton.setFocusable(false);
        searchSVButton.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        searchSVButton.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        searchSVButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                searchSVButtonActionPerformed(evt);
            }
        });
        jToolBar1.add(searchSVButton);
        jToolBar1.add(jSeparator27);

        jButton13.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jButton13.setForeground(new java.awt.Color(0, 0, 102));
        jButton13.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Bar chart.png"))); // NOI18N
        jButton13.setText("Thống Kê");
        jButton13.setFocusable(false);
        jButton13.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        jButton13.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        jToolBar1.add(jButton13);
        jToolBar1.add(jSeparator1);

        chuyenPhongSVButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        chuyenPhongSVButton.setForeground(new java.awt.Color(0, 0, 102));
        chuyenPhongSVButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Closed door.png"))); // NOI18N
        chuyenPhongSVButton.setText("Chuyển Phòng");
        chuyenPhongSVButton.setFocusable(false);
        chuyenPhongSVButton.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        chuyenPhongSVButton.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        chuyenPhongSVButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chuyenPhongSVButtonActionPerformed(evt);
            }
        });
        jToolBar1.add(chuyenPhongSVButton);
        jToolBar1.add(jSeparator28);

        traPhongSVButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        traPhongSVButton.setForeground(new java.awt.Color(0, 0, 102));
        traPhongSVButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Exit.png"))); // NOI18N
        traPhongSVButton.setText("Trả Phòng");
        traPhongSVButton.setFocusable(false);
        traPhongSVButton.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        traPhongSVButton.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        traPhongSVButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                traPhongSVButtonActionPerformed(evt);
            }
        });
        jToolBar1.add(traPhongSVButton);
        jToolBar1.add(jSeparator29);

        kyLuatSVButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        kyLuatSVButton.setForeground(new java.awt.Color(0, 0, 102));
        kyLuatSVButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Favourites.png"))); // NOI18N
        kyLuatSVButton.setText("Kỷ Luật");
        kyLuatSVButton.setFocusable(false);
        kyLuatSVButton.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        kyLuatSVButton.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        kyLuatSVButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                kyLuatSVButtonActionPerformed(evt);
            }
        });
        jToolBar1.add(kyLuatSVButton);

        chonAnhSVButton.setBackground(new java.awt.Color(0, 0, 102));
        chonAnhSVButton.setForeground(new java.awt.Color(255, 255, 255));
        chonAnhSVButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Open folder.png"))); // NOI18N
        chonAnhSVButton.setText("Chọn ảnh");
        chonAnhSVButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chonAnhSVButtonActionPerformed(evt);
            }
        });

        jLabel2.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel2.setForeground(new java.awt.Color(0, 0, 102));
        jLabel2.setText("Mã Sinh Viên:");

        jLabel3.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel3.setForeground(new java.awt.Color(0, 0, 102));
        jLabel3.setText("Họ Tên:");

        jLabel4.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel4.setForeground(new java.awt.Color(0, 0, 102));
        jLabel4.setText("SDT:");

        jLabel5.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel5.setForeground(new java.awt.Color(0, 0, 102));
        jLabel5.setText("Giới Tính:");

        jLabel6.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel6.setForeground(new java.awt.Color(0, 0, 102));
        jLabel6.setText("Địa chỉ:");

        jLabel7.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel7.setForeground(new java.awt.Color(0, 0, 102));
        jLabel7.setText("Ngày Sinh:");

        gioiTinhButtonGroup.add(namSVRB);
        namSVRB.setForeground(new java.awt.Color(0, 0, 102));
        namSVRB.setText("Nam");

        gioiTinhButtonGroup.add(nuSVRB);
        nuSVRB.setForeground(new java.awt.Color(0, 0, 102));
        nuSVRB.setText("Nữ");

        jLabel8.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel8.setForeground(new java.awt.Color(0, 0, 102));
        jLabel8.setText("Khoá:");

        jLabel9.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel9.setForeground(new java.awt.Color(0, 0, 102));
        jLabel9.setText("Ngày Vào:");

        jLabel10.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel10.setForeground(new java.awt.Color(0, 0, 102));
        jLabel10.setText("Ngành:");

        khoaSVCbb.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "K16", "K17", "K18", "K19" }));

        nganhSVCbb.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "CNTT", "NNT", "NNA", "QLDU&LT", "KT", "KTOT" }));

        jLabel11.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel11.setForeground(new java.awt.Color(0, 0, 102));
        jLabel11.setText("Mã Phòng:");

        jLabel12.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel12.setForeground(new java.awt.Color(0, 0, 102));
        jLabel12.setText("Số Lần Vi Phạm:");

        jLabel13.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel13.setForeground(new java.awt.Color(0, 0, 102));
        jLabel13.setText("Trạng Thái:");

        soLanViPhamSVTF.setEditable(false);

        trangThaiSVTF.setEditable(false);

        maPhongSVTF.setEditable(false);

        suaSVButton.setBackground(new java.awt.Color(0, 0, 102));
        suaSVButton.setForeground(new java.awt.Color(255, 255, 255));
        suaSVButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Edit.png"))); // NOI18N
        suaSVButton.setText("Sửa");
        suaSVButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                suaSVButtonActionPerformed(evt);
            }
        });

        refreshSVButton.setBackground(new java.awt.Color(0, 0, 102));
        refreshSVButton.setForeground(new java.awt.Color(255, 255, 255));
        refreshSVButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Refresh.png"))); // NOI18N
        refreshSVButton.setText("Refresh");
        refreshSVButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                refreshSVButtonActionPerformed(evt);
            }
        });

        jSeparator15.setOrientation(javax.swing.SwingConstants.VERTICAL);

        maSVFT.setEditable(false);
        try {
            maSVFT.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("C#######")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }

        try {
            sdtSVTF.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("0#########")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }

        ngaySinhSVDV.setDateFormatString("yyyy-MM-dd");

        ngayVaoSVDC.setDateFormatString("yyyy-MM-dd");

        searchButtonGroup.add(maSVRb);
        maSVRb.setSelected(true);

        searchButtonGroup.add(hoTenRb);

        searchSV1Button.setBackground(new java.awt.Color(0, 0, 102));
        searchSV1Button.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        searchSV1Button.setForeground(new java.awt.Color(255, 255, 255));
        searchSV1Button.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Search.png"))); // NOI18N
        searchSV1Button.setText("Tìm Kiếm");
        searchSV1Button.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                searchSV1ButtonActionPerformed(evt);
            }
        });

        xuatFileSVButton.setBackground(new java.awt.Color(0, 0, 102));
        xuatFileSVButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        xuatFileSVButton.setForeground(new java.awt.Color(255, 255, 255));
        xuatFileSVButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/excel.png"))); // NOI18N
        xuatFileSVButton.setText("Xuất File");
        xuatFileSVButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                xuatFileSVButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(anhSVLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(chonAnhSVButton, javax.swing.GroupLayout.DEFAULT_SIZE, 115, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jSeparator15, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel2)
                    .addComponent(jLabel3)
                    .addComponent(jLabel4))
                .addGap(18, 18, 18)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(hoTenSVTF)
                            .addComponent(maSVFT))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(maSVRb, javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(hoTenRb, javax.swing.GroupLayout.Alignment.TRAILING)))
                    .addComponent(sdtSVTF, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(searchSV1Button, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(suaSVButton, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel5)
                            .addComponent(jLabel6)
                            .addComponent(jLabel7))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addComponent(namSVRB)
                                .addGap(18, 18, 18)
                                .addComponent(nuSVRB))
                            .addComponent(diaChiSVTF)
                            .addComponent(ngaySinhSVDV, javax.swing.GroupLayout.DEFAULT_SIZE, 130, Short.MAX_VALUE))))
                .addGap(18, 18, 18)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel9)
                    .addComponent(jLabel8)
                    .addComponent(jLabel10))
                .addGap(18, 18, 18)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addComponent(nganhSVCbb, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(nganhCb))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addComponent(khoaSVCbb, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(khoaCb))
                    .addComponent(refreshSVButton, javax.swing.GroupLayout.DEFAULT_SIZE, 153, Short.MAX_VALUE)
                    .addComponent(ngayVaoSVDC, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel12)
                    .addComponent(jLabel13)
                    .addComponent(jLabel11))
                .addGap(18, 18, 18)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(xuatFileSVButton, javax.swing.GroupLayout.DEFAULT_SIZE, 145, Short.MAX_VALUE)
                    .addComponent(soLanViPhamSVTF)
                    .addComponent(trangThaiSVTF)
                    .addComponent(maPhongSVTF))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jSeparator15)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(anhSVLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 113, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(jLabel2)
                                    .addComponent(jLabel5)
                                    .addComponent(namSVRB)
                                    .addComponent(nuSVRB)
                                    .addComponent(jLabel10)
                                    .addComponent(nganhSVCbb, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel11)
                                    .addComponent(maPhongSVTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(maSVFT, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(maSVRb)
                                    .addComponent(nganhCb))
                                .addGap(18, 18, 18)
                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(hoTenSVTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel6)
                                    .addComponent(diaChiSVTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel8)
                                    .addComponent(khoaSVCbb, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel12)
                                    .addComponent(soLanViPhamSVTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(hoTenRb)
                                    .addComponent(khoaCb))
                                .addGap(18, 18, 18)
                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                        .addComponent(jLabel4)
                                        .addComponent(jLabel7)
                                        .addComponent(jLabel9)
                                        .addComponent(jLabel13)
                                        .addComponent(trangThaiSVTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(sdtSVTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addComponent(ngaySinhSVDV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(ngayVaoSVDC, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(chonAnhSVButton)
                            .addComponent(suaSVButton)
                            .addComponent(refreshSVButton)
                            .addComponent(searchSV1Button)
                            .addComponent(xuatFileSVButton))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );

        sinhVienTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {

            }
        ));
        sinhVienTable.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        sinhVienTable.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                sinhVienTableMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(sinhVienTable);

        danhSachSVLabel.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        danhSachSVLabel.setForeground(new java.awt.Color(0, 0, 102));
        danhSachSVLabel.setText("Danh sách gồm 10 sinh viên");

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jSeparator7)
            .addComponent(jScrollPane1)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(danhSachSVLabel)
                .addGap(453, 453, 453))
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jSeparator7, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(danhSachSVLabel)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 263, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout sinhVienPanelLayout = new javax.swing.GroupLayout(sinhVienPanel);
        sinhVienPanel.setLayout(sinhVienPanelLayout);
        sinhVienPanelLayout.setHorizontalGroup(
            sinhVienPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jSeparator9)
            .addComponent(jToolBar1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        sinhVienPanelLayout.setVerticalGroup(
            sinhVienPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(sinhVienPanelLayout.createSequentialGroup()
                .addComponent(jToolBar1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jSeparator9, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jToolBar2.setRollover(true);

        jButton6.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jButton6.setForeground(new java.awt.Color(0, 0, 102));
        jButton6.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Add.png"))); // NOI18N
        jButton6.setText("Thêm");
        jButton6.setFocusable(false);
        jButton6.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        jButton6.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        jToolBar2.add(jButton6);
        jToolBar2.add(jSeparator2);

        jButton7.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jButton7.setForeground(new java.awt.Color(0, 0, 102));
        jButton7.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Delete.png"))); // NOI18N
        jButton7.setText("Xoá");
        jButton7.setFocusable(false);
        jButton7.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        jButton7.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        jToolBar2.add(jButton7);
        jToolBar2.add(jSeparator3);

        jButton8.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jButton8.setForeground(new java.awt.Color(0, 0, 102));
        jButton8.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Edit.png"))); // NOI18N
        jButton8.setText("Sửa");
        jButton8.setFocusable(false);
        jButton8.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        jButton8.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        jToolBar2.add(jButton8);
        jToolBar2.add(jSeparator4);

        qLThietBiButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        qLThietBiButton.setForeground(new java.awt.Color(0, 0, 102));
        qLThietBiButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Search.png"))); // NOI18N
        qLThietBiButton.setText("Quản Lý Thiết Bị");
        qLThietBiButton.setFocusable(false);
        qLThietBiButton.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        qLThietBiButton.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        qLThietBiButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                qLThietBiButtonActionPerformed(evt);
            }
        });
        jToolBar2.add(qLThietBiButton);

        jLabel14.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel14.setForeground(new java.awt.Color(0, 0, 102));
        jLabel14.setText("Mã Phòng:");

        jLabel15.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel15.setForeground(new java.awt.Color(0, 0, 102));
        jLabel15.setText("Loại Phòng:");

        jLabel16.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel16.setForeground(new java.awt.Color(0, 0, 102));
        jLabel16.setText("Số Giường");

        jLabel17.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel17.setForeground(new java.awt.Color(0, 0, 102));
        jLabel17.setText("Số Người:");

        soGiuongSp.setModel(new javax.swing.SpinnerNumberModel(1, 1, 6, 1));
        soGiuongSp.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                soGiuongSpStateChanged(evt);
            }
        });

        loaiPhongCbb.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Loại 1", "Loại 2" }));
        loaiPhongCbb.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                loaiPhongCbbActionPerformed(evt);
            }
        });

        soNguoiSp.setModel(new javax.swing.SpinnerNumberModel(0, 0, 6, 1));
        soNguoiSp.setEnabled(false);

        jLabel18.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel18.setForeground(new java.awt.Color(0, 0, 102));
        jLabel18.setText("Giá Tiền:");

        giaTienFT.setEditable(false);
        giaTienFT.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("###,###,###"))));

        themPhongButton.setBackground(new java.awt.Color(0, 0, 102));
        themPhongButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        themPhongButton.setForeground(new java.awt.Color(255, 255, 255));
        themPhongButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Add.png"))); // NOI18N
        themPhongButton.setText("Thêm ");
        themPhongButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                themPhongButtonActionPerformed(evt);
            }
        });

        xoaPhongButton.setBackground(new java.awt.Color(0, 0, 102));
        xoaPhongButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        xoaPhongButton.setForeground(new java.awt.Color(255, 255, 255));
        xoaPhongButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Delete.png"))); // NOI18N
        xoaPhongButton.setText("Xoá");
        xoaPhongButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                xoaPhongButtonActionPerformed(evt);
            }
        });

        suaPhongButton.setBackground(new java.awt.Color(0, 0, 102));
        suaPhongButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        suaPhongButton.setForeground(new java.awt.Color(255, 255, 255));
        suaPhongButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Edit.png"))); // NOI18N
        suaPhongButton.setText("Sửa");
        suaPhongButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                suaPhongButtonActionPerformed(evt);
            }
        });

        refreshButton.setBackground(new java.awt.Color(0, 0, 102));
        refreshButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        refreshButton.setForeground(new java.awt.Color(255, 255, 255));
        refreshButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Refresh.png"))); // NOI18N
        refreshButton.setText("Refresh");
        refreshButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                refreshButtonActionPerformed(evt);
            }
        });

        maPhongFT.setEditable(false);
        try {
            maPhongFT.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("###")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }

        luuLaiPhongButton.setBackground(new java.awt.Color(0, 0, 102));
        luuLaiPhongButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        luuLaiPhongButton.setForeground(new java.awt.Color(255, 255, 255));
        luuLaiPhongButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Save.png"))); // NOI18N
        luuLaiPhongButton.setText("Lưu Lại");
        luuLaiPhongButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                luuLaiPhongButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel14)
                .addGap(18, 18, 18)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(themPhongButton, javax.swing.GroupLayout.DEFAULT_SIZE, 130, Short.MAX_VALUE)
                    .addComponent(maPhongFT))
                .addGap(23, 23, 23)
                .addComponent(jLabel15)
                .addGap(18, 18, 18)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(luuLaiPhongButton, javax.swing.GroupLayout.DEFAULT_SIZE, 150, Short.MAX_VALUE)
                    .addComponent(loaiPhongCbb, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addComponent(jLabel16)
                .addGap(18, 18, 18)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(suaPhongButton, javax.swing.GroupLayout.DEFAULT_SIZE, 142, Short.MAX_VALUE)
                    .addComponent(soGiuongSp))
                .addGap(18, 18, 18)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                        .addComponent(jLabel17)
                        .addGap(18, 18, 18)
                        .addComponent(soNguoiSp, javax.swing.GroupLayout.PREFERRED_SIZE, 139, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(xoaPhongButton, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 139, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(jLabel18)
                .addGap(18, 18, 18)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(refreshButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(giaTienFT, javax.swing.GroupLayout.PREFERRED_SIZE, 144, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel14)
                    .addComponent(jLabel15)
                    .addComponent(loaiPhongCbb, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel16)
                    .addComponent(soGiuongSp, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel17)
                    .addComponent(soNguoiSp, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel18)
                    .addComponent(giaTienFT, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(maPhongFT, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(themPhongButton)
                    .addComponent(xoaPhongButton)
                    .addComponent(suaPhongButton)
                    .addComponent(refreshButton)
                    .addComponent(luuLaiPhongButton))
                .addGap(0, 18, Short.MAX_VALUE))
        );

        phongTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {

            }
        ));
        phongTable.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        phongTable.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                phongTableMouseClicked(evt);
            }
        });
        jScrollPane2.setViewportView(phongTable);

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jSeparator6)
            .addComponent(jScrollPane2)
            .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(17, 17, 17)
                .addComponent(jSeparator6, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 325, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout phongPanelLayout = new javax.swing.GroupLayout(phongPanel);
        phongPanel.setLayout(phongPanelLayout);
        phongPanelLayout.setHorizontalGroup(
            phongPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jSeparator5)
            .addComponent(jToolBar2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        phongPanelLayout.setVerticalGroup(
            phongPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(phongPanelLayout.createSequentialGroup()
                .addComponent(jToolBar2, javax.swing.GroupLayout.PREFERRED_SIZE, 47, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jSeparator5, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jToolBar3.setRollover(true);

        jButton16.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jButton16.setForeground(new java.awt.Color(0, 0, 102));
        jButton16.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Add.png"))); // NOI18N
        jButton16.setText("Thêm");
        jButton16.setFocusable(false);
        jButton16.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        jButton16.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        jToolBar3.add(jButton16);
        jToolBar3.add(jSeparator10);

        thongKeKLButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        thongKeKLButton.setForeground(new java.awt.Color(0, 0, 102));
        thongKeKLButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Bar chart.png"))); // NOI18N
        thongKeKLButton.setText("Thống Kê");
        thongKeKLButton.setFocusable(false);
        thongKeKLButton.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        thongKeKLButton.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        thongKeKLButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                thongKeKLButtonActionPerformed(evt);
            }
        });
        jToolBar3.add(thongKeKLButton);
        jToolBar3.add(jSeparator11);

        kyLuatTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {

            }
        ));
        kyLuatTable.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        kyLuatTable.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                kyLuatTableMouseClicked(evt);
            }
        });
        jScrollPane3.setViewportView(kyLuatTable);

        jLabel19.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel19.setForeground(new java.awt.Color(0, 0, 102));
        jLabel19.setText("Mã Phiếu");

        jLabel20.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel20.setForeground(new java.awt.Color(0, 0, 102));
        jLabel20.setText("Loại Kỷ Luật");

        jLabel21.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel21.setForeground(new java.awt.Color(0, 0, 102));
        jLabel21.setText("Nội Dung");

        maPhieuKLTF.setEditable(false);

        noiDungKLTA.setColumns(20);
        noiDungKLTA.setRows(5);
        jScrollPane4.setViewportView(noiDungKLTA);

        jLabel22.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel22.setForeground(new java.awt.Color(0, 0, 102));
        jLabel22.setText("Mã Sinh Viên:");

        jLabel23.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel23.setForeground(new java.awt.Color(0, 0, 102));
        jLabel23.setText("Mã Quản Lý:");

        jLabel24.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel24.setForeground(new java.awt.Color(0, 0, 102));
        jLabel24.setText("Hình thức phạt");

        maSVKLTF.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                maSVKLTFFocusLost(evt);
            }
        });

        maQLKLTF.setEditable(false);

        hinhThucPhatKLTA.setColumns(20);
        hinhThucPhatKLTA.setRows(5);
        jScrollPane5.setViewportView(hinhThucPhatKLTA);

        jLabel25.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel25.setForeground(new java.awt.Color(0, 0, 102));
        jLabel25.setText("Ngày Vi Phạm:");

        themKyLuatButton.setBackground(new java.awt.Color(0, 0, 102));
        themKyLuatButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        themKyLuatButton.setForeground(new java.awt.Color(255, 255, 255));
        themKyLuatButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Add.png"))); // NOI18N
        themKyLuatButton.setText("Thêm Kỷ Luật");
        themKyLuatButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                themKyLuatButtonActionPerformed(evt);
            }
        });

        refreshKLButton.setBackground(new java.awt.Color(0, 0, 102));
        refreshKLButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        refreshKLButton.setForeground(new java.awt.Color(255, 255, 255));
        refreshKLButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Refresh.png"))); // NOI18N
        refreshKLButton.setText("Refresh");
        refreshKLButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                refreshKLButtonActionPerformed(evt);
            }
        });

        ngayViPhamDC.setDateFormatString("yyyy-MM-dd");

        suaKLButton.setBackground(new java.awt.Color(0, 0, 102));
        suaKLButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        suaKLButton.setForeground(new java.awt.Color(255, 255, 255));
        suaKLButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Edit.png"))); // NOI18N
        suaKLButton.setText("Sửa");
        suaKLButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                suaKLButtonActionPerformed(evt);
            }
        });

        luuLaiKLButton.setBackground(new java.awt.Color(0, 0, 102));
        luuLaiKLButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        luuLaiKLButton.setForeground(new java.awt.Color(255, 255, 255));
        luuLaiKLButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Save.png"))); // NOI18N
        luuLaiKLButton.setText("Lưu Lại");
        luuLaiKLButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                luuLaiKLButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel20)
                            .addComponent(jLabel19))
                        .addGap(29, 29, 29))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel7Layout.createSequentialGroup()
                        .addComponent(jLabel25)
                        .addGap(18, 18, 18)))
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(ngayViPhamDC, javax.swing.GroupLayout.DEFAULT_SIZE, 186, Short.MAX_VALUE)
                    .addComponent(loaiKLCbb, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(maPhieuKLTF)
                    .addComponent(themKyLuatButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel22)
                    .addComponent(jLabel23))
                .addGap(18, 18, 18)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(luuLaiKLButton, javax.swing.GroupLayout.PREFERRED_SIZE, 100, Short.MAX_VALUE)
                    .addComponent(maQLKLTF, javax.swing.GroupLayout.DEFAULT_SIZE, 100, Short.MAX_VALUE)
                    .addComponent(maSVKLTF))
                .addGap(18, 18, 18)
                .addComponent(jLabel21)
                .addGap(18, 18, 18)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addComponent(suaKLButton, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(refreshKLButton))
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 233, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jLabel24)
                        .addGap(18, 18, 18)
                        .addComponent(jScrollPane5, javax.swing.GroupLayout.PREFERRED_SIZE, 221, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jScrollPane5)
                    .addComponent(jLabel24)
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel19)
                            .addComponent(maPhieuKLTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel22)
                            .addComponent(maSVKLTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel21))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel20)
                            .addComponent(jLabel23)
                            .addComponent(maQLKLTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(loaiKLCbb, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(ngayViPhamDC, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel25)))
                    .addComponent(jScrollPane4))
                .addGap(18, 18, 18)
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(refreshKLButton)
                        .addComponent(suaKLButton)
                        .addComponent(luuLaiKLButton))
                    .addComponent(themKyLuatButton))
                .addContainerGap(54, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane3)
            .addComponent(jPanel7, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jSeparator14)
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                .addComponent(jPanel7, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGap(5, 5, 5)
                .addComponent(jSeparator14, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(3, 3, 3)
                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 243, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        javax.swing.GroupLayout kyLuatPanelLayout = new javax.swing.GroupLayout(kyLuatPanel);
        kyLuatPanel.setLayout(kyLuatPanelLayout);
        kyLuatPanelLayout.setHorizontalGroup(
            kyLuatPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jToolBar3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jPanel6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jSeparator13)
        );
        kyLuatPanelLayout.setVerticalGroup(
            kyLuatPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(kyLuatPanelLayout.createSequentialGroup()
                .addComponent(jToolBar3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(8, 8, 8)
                .addComponent(jSeparator13, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jToolBar4.setRollover(true);

        jButton3.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jButton3.setForeground(new java.awt.Color(0, 0, 102));
        jButton3.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Add.png"))); // NOI18N
        jButton3.setText("Thuê Phòng");
        jButton3.setFocusable(false);
        jButton3.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        jButton3.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        jToolBar4.add(jButton3);
        jToolBar4.add(jSeparator21);

        jButton2.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jButton2.setForeground(new java.awt.Color(0, 0, 102));
        jButton2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Edit.png"))); // NOI18N
        jButton2.setText("Sửa ");
        jButton2.setFocusable(false);
        jButton2.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        jButton2.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        jToolBar4.add(jButton2);
        jToolBar4.add(jSeparator16);

        jButton10.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jButton10.setForeground(new java.awt.Color(0, 0, 102));
        jButton10.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Delete.png"))); // NOI18N
        jButton10.setText("Xoá");
        jButton10.setFocusable(false);
        jButton10.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        jButton10.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        jToolBar4.add(jButton10);
        jToolBar4.add(jSeparator17);

        jButton15.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jButton15.setForeground(new java.awt.Color(0, 0, 102));
        jButton15.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Search.png"))); // NOI18N
        jButton15.setText("Tìm Kiếm");
        jButton15.setFocusable(false);
        jButton15.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        jButton15.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        jToolBar4.add(jButton15);

        anhSVTPLabel.setLabelFor(chonAnhSVTPButton);

        chonAnhSVTPButton.setBackground(new java.awt.Color(0, 0, 102));
        chonAnhSVTPButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        chonAnhSVTPButton.setForeground(new java.awt.Color(255, 255, 255));
        chonAnhSVTPButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Open folder.png"))); // NOI18N
        chonAnhSVTPButton.setText("Chọn ảnh");
        chonAnhSVTPButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chonAnhSVTPButtonActionPerformed(evt);
            }
        });

        jLabel27.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel27.setForeground(new java.awt.Color(0, 0, 102));
        jLabel27.setText("Mã Sinh Viên:");

        jLabel28.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel28.setForeground(new java.awt.Color(0, 0, 102));
        jLabel28.setText("Họ Tên:");

        jLabel29.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel29.setForeground(new java.awt.Color(0, 0, 102));
        jLabel29.setText("SDT:");

        jLabel30.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel30.setForeground(new java.awt.Color(0, 0, 102));
        jLabel30.setText("Giới Tính:");

        jLabel31.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel31.setForeground(new java.awt.Color(0, 0, 102));
        jLabel31.setText("Địa chỉ:");

        jLabel32.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel32.setForeground(new java.awt.Color(0, 0, 102));
        jLabel32.setText("Ngày Sinh:");

        gioiTinhButtonGroup.add(namTPRadioButton);
        namTPRadioButton.setForeground(new java.awt.Color(0, 0, 102));
        namTPRadioButton.setSelected(true);
        namTPRadioButton.setText("Nam");

        gioiTinhButtonGroup.add(nuTPRadioButton);
        nuTPRadioButton.setForeground(new java.awt.Color(0, 0, 102));
        nuTPRadioButton.setText("Nữ");

        jLabel33.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel33.setForeground(new java.awt.Color(0, 0, 102));
        jLabel33.setText("Khoá:");

        jLabel35.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel35.setForeground(new java.awt.Color(0, 0, 102));
        jLabel35.setText("Ngành:");

        khoaSVTPCbb.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "K16", "K17", "K18", "K19" }));

        nganhSVTPCbb.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "CNTT", "NNT", "NNA", "QLDU&LT", "KT", "KTOT" }));

        jLabel36.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel36.setForeground(new java.awt.Color(0, 0, 102));
        jLabel36.setText("Mã Phòng:");

        suaSVTPButton.setBackground(new java.awt.Color(0, 0, 102));
        suaSVTPButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        suaSVTPButton.setForeground(new java.awt.Color(255, 255, 255));
        suaSVTPButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Edit.png"))); // NOI18N
        suaSVTPButton.setText("Sửa");
        suaSVTPButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                suaSVTPButtonActionPerformed(evt);
            }
        });

        refreshSVTPButton.setBackground(new java.awt.Color(0, 0, 102));
        refreshSVTPButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        refreshSVTPButton.setForeground(new java.awt.Color(255, 255, 255));
        refreshSVTPButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Refresh.png"))); // NOI18N
        refreshSVTPButton.setText("Refresh");
        refreshSVTPButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                refreshSVTPButtonActionPerformed(evt);
            }
        });

        jSeparator18.setOrientation(javax.swing.SwingConstants.VERTICAL);

        jLabel37.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel37.setForeground(new java.awt.Color(0, 0, 102));
        jLabel37.setText("Mã QL:");

        maQLTPTF.setEditable(false);

        themSVTPButton.setBackground(new java.awt.Color(0, 0, 102));
        themSVTPButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        themSVTPButton.setForeground(new java.awt.Color(255, 255, 255));
        themSVTPButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Add.png"))); // NOI18N
        themSVTPButton.setText("Thêm");
        themSVTPButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                themSVTPButtonActionPerformed(evt);
            }
        });

        try {
            maSVTPFT.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("C#######")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        maSVTPFT.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                maSVTPFTFocusLost(evt);
            }
        });

        try {
            sdtSVTPFT.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("0#########")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }

        jLabel38.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel38.setForeground(new java.awt.Color(0, 0, 102));
        jLabel38.setText("Ngày Vào:");

        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel1.setForeground(new java.awt.Color(0, 0, 102));
        jLabel1.setText("Mã Phiếu: ");

        maPhieuTPTF.setEditable(false);

        ngaySinhSVTPDC.setDateFormatString("yyyy-MM-dd");

        ngayVaoSVTPDC.setDateFormatString("yyyy-MM-dd");

        choThueLaiButton.setBackground(new java.awt.Color(0, 0, 102));
        choThueLaiButton.setForeground(new java.awt.Color(255, 255, 255));
        choThueLaiButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Help.png"))); // NOI18N
        choThueLaiButton.setText("Cho Thuê Lại");
        choThueLaiButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                choThueLaiButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel9Layout = new javax.swing.GroupLayout(jPanel9);
        jPanel9.setLayout(jPanel9Layout);
        jPanel9Layout.setHorizontalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(anhSVTPLabel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(chonAnhSVTPButton, javax.swing.GroupLayout.DEFAULT_SIZE, 115, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jSeparator18, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel27)
                    .addComponent(jLabel28)
                    .addComponent(jLabel1))
                .addGap(18, 18, 18)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(themSVTPButton, javax.swing.GroupLayout.DEFAULT_SIZE, 130, Short.MAX_VALUE)
                    .addComponent(hoTenSVTPTF)
                    .addComponent(maSVTPFT)
                    .addComponent(maPhieuTPTF))
                .addGap(18, 18, 18)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel9Layout.createSequentialGroup()
                        .addComponent(jLabel29)
                        .addGap(44, 44, 44)
                        .addComponent(sdtSVTPFT))
                    .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                        .addComponent(suaSVTPButton, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGroup(jPanel9Layout.createSequentialGroup()
                            .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jLabel30)
                                .addComponent(jLabel31))
                            .addGap(18, 18, 18)
                            .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                .addGroup(jPanel9Layout.createSequentialGroup()
                                    .addComponent(namTPRadioButton)
                                    .addGap(18, 18, 18)
                                    .addComponent(nuTPRadioButton)
                                    .addGap(26, 26, 26))
                                .addComponent(diaChiSVTPTF)))))
                .addGap(18, 18, 18)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel9Layout.createSequentialGroup()
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel33)
                            .addComponent(jLabel35))
                        .addGap(30, 30, 30)
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(nganhSVTPCbb, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(khoaSVTPCbb, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel9Layout.createSequentialGroup()
                        .addComponent(jLabel32)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(refreshSVTPButton, javax.swing.GroupLayout.DEFAULT_SIZE, 130, Short.MAX_VALUE)
                            .addComponent(ngaySinhSVTPDC, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                .addGap(23, 23, 23)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel38, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel36)
                    .addComponent(jLabel37, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(22, 22, 22)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(maQLTPTF)
                    .addComponent(maPhongTPCbb, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(ngayVaoSVTPDC, javax.swing.GroupLayout.DEFAULT_SIZE, 258, Short.MAX_VALUE)
                    .addGroup(jPanel9Layout.createSequentialGroup()
                        .addComponent(choThueLaiButton)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        jPanel9Layout.setVerticalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jSeparator18)
                    .addGroup(jPanel9Layout.createSequentialGroup()
                        .addComponent(anhSVTPLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 113, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(chonAnhSVTPButton)
                            .addComponent(suaSVTPButton)
                            .addComponent(themSVTPButton)
                            .addComponent(refreshSVTPButton)
                            .addComponent(choThueLaiButton)))
                    .addGroup(jPanel9Layout.createSequentialGroup()
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel30)
                            .addComponent(namTPRadioButton)
                            .addComponent(nuTPRadioButton)
                            .addComponent(jLabel35)
                            .addComponent(nganhSVTPCbb, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel36)
                            .addComponent(maPhongTPCbb, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel1)
                            .addComponent(maPhieuTPTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel31)
                            .addComponent(diaChiSVTPTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel33)
                            .addComponent(khoaSVTPCbb, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel37)
                            .addComponent(maQLTPTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel27)
                            .addComponent(maSVTPFT, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel9Layout.createSequentialGroup()
                                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(jLabel29)
                                    .addComponent(jLabel32)
                                    .addComponent(sdtSVTPFT, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(hoTenSVTPTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel28, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(jLabel38))
                                .addGap(53, 53, 53))
                            .addGroup(jPanel9Layout.createSequentialGroup()
                                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(ngaySinhSVTPDC, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(ngayVaoSVTPDC, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(0, 0, Short.MAX_VALUE)))))
                .addContainerGap())
        );

        thuePhongTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {

            }
        ));
        thuePhongTable.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        jScrollPane6.setViewportView(thuePhongTable);

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel9, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jScrollPane6)
            .addComponent(jSeparator19)
        );
        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addComponent(jPanel9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jSeparator19, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane6, javax.swing.GroupLayout.DEFAULT_SIZE, 256, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout thuePhongPanelLayout = new javax.swing.GroupLayout(thuePhongPanel);
        thuePhongPanel.setLayout(thuePhongPanelLayout);
        thuePhongPanelLayout.setHorizontalGroup(
            thuePhongPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel8, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jToolBar4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jSeparator20)
        );
        thuePhongPanelLayout.setVerticalGroup(
            thuePhongPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(thuePhongPanelLayout.createSequentialGroup()
                .addComponent(jToolBar4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jSeparator20, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanel8, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jToolBar5.setRollover(true);

        jLabel26.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel26.setForeground(new java.awt.Color(0, 0, 102));
        jLabel26.setText("Mã Phiếu:");

        jLabel34.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel34.setForeground(new java.awt.Color(0, 0, 102));
        jLabel34.setText("Mã Phòng Cũ:");

        jLabel39.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel39.setForeground(new java.awt.Color(0, 0, 102));
        jLabel39.setText("Mã Phòng Mới:");

        maPhongMoiCbb.setEditable(true);

        maPhieuCPTF.setEditable(false);

        jLabel40.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel40.setForeground(new java.awt.Color(0, 0, 102));
        jLabel40.setText("Mã QL:");

        jLabel41.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel41.setForeground(new java.awt.Color(0, 0, 102));
        jLabel41.setText("Mã SV:");

        ngayChuyenDC.setDateFormatString("yyyy-MM-dd");

        jLabel42.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel42.setForeground(new java.awt.Color(0, 0, 102));
        jLabel42.setText("Ngày Chuyển:");

        maQLCPTF.setEditable(false);

        jLabel43.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel43.setForeground(new java.awt.Color(0, 0, 102));
        jLabel43.setText("Lí Do Chuyển:");

        liDoCPTA.setColumns(20);
        liDoCPTA.setRows(5);
        jScrollPane7.setViewportView(liDoCPTA);

        chuyenPhongButton.setBackground(new java.awt.Color(0, 0, 102));
        chuyenPhongButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        chuyenPhongButton.setForeground(new java.awt.Color(255, 255, 255));
        chuyenPhongButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Open door.png"))); // NOI18N
        chuyenPhongButton.setText("Chuyển Phòng");
        chuyenPhongButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chuyenPhongButtonActionPerformed(evt);
            }
        });

        suaCPButton.setBackground(new java.awt.Color(0, 0, 102));
        suaCPButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        suaCPButton.setForeground(new java.awt.Color(255, 255, 255));
        suaCPButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Edit.png"))); // NOI18N
        suaCPButton.setText("Sửa");
        suaCPButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                suaCPButtonActionPerformed(evt);
            }
        });

        refreshCPButton.setBackground(new java.awt.Color(0, 0, 102));
        refreshCPButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        refreshCPButton.setForeground(new java.awt.Color(255, 255, 255));
        refreshCPButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Refresh.png"))); // NOI18N
        refreshCPButton.setText("Refresh");
        refreshCPButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                refreshCPButtonActionPerformed(evt);
            }
        });

        luuLaiCPButton.setBackground(new java.awt.Color(0, 0, 102));
        luuLaiCPButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        luuLaiCPButton.setForeground(new java.awt.Color(255, 255, 255));
        luuLaiCPButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Save.png"))); // NOI18N
        luuLaiCPButton.setText("Lưu Lại");
        luuLaiCPButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                luuLaiCPButtonActionPerformed(evt);
            }
        });

        maPhongCuTF.setEditable(false);

        try {
            maSVCPFT.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("C#######")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        maSVCPFT.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                maSVCPFTFocusLost(evt);
            }
        });

        javax.swing.GroupLayout jPanel11Layout = new javax.swing.GroupLayout(jPanel11);
        jPanel11.setLayout(jPanel11Layout);
        jPanel11Layout.setHorizontalGroup(
            jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel11Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel26)
                    .addComponent(jLabel42))
                .addGap(18, 18, 18)
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(chuyenPhongButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(ngayChuyenDC, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(maPhieuCPTF))
                .addGap(18, 18, 18)
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel11Layout.createSequentialGroup()
                        .addComponent(jLabel40)
                        .addGap(18, 18, 18)
                        .addComponent(maQLCPTF, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel34)
                            .addComponent(jLabel39)))
                    .addGroup(jPanel11Layout.createSequentialGroup()
                        .addComponent(jLabel41)
                        .addGap(18, 18, 18)
                        .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(maSVCPFT, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(luuLaiCPButton, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addGap(18, 18, 18)
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(maPhongMoiCbb, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel11Layout.createSequentialGroup()
                        .addComponent(maPhongCuTF, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jLabel43))
                    .addComponent(suaCPButton, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane7, javax.swing.GroupLayout.DEFAULT_SIZE, 365, Short.MAX_VALUE)
                    .addGroup(jPanel11Layout.createSequentialGroup()
                        .addComponent(refreshCPButton, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE))))
        );
        jPanel11Layout.setVerticalGroup(
            jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel11Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel11Layout.createSequentialGroup()
                        .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel26)
                            .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(maPhieuCPTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel40)
                                .addComponent(maQLCPTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel34)
                                .addComponent(jLabel43)
                                .addComponent(maPhongCuTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(ngayChuyenDC, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel42)
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(jLabel41)
                                .addComponent(jLabel39)
                                .addComponent(maPhongMoiCbb, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(maSVCPFT, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addComponent(jScrollPane7, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(refreshCPButton)
                    .addGroup(jPanel11Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(chuyenPhongButton)
                        .addComponent(luuLaiCPButton))
                    .addComponent(suaCPButton))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        chuyenPhongTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {

            }
        ));
        chuyenPhongTable.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        chuyenPhongTable.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                chuyenPhongTableMouseClicked(evt);
            }
        });
        jScrollPane8.setViewportView(chuyenPhongTable);

        javax.swing.GroupLayout jPanel12Layout = new javax.swing.GroupLayout(jPanel12);
        jPanel12.setLayout(jPanel12Layout);
        jPanel12Layout.setHorizontalGroup(
            jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane8)
        );
        jPanel12Layout.setVerticalGroup(
            jPanel12Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane8, javax.swing.GroupLayout.DEFAULT_SIZE, 320, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout jPanel10Layout = new javax.swing.GroupLayout(jPanel10);
        jPanel10.setLayout(jPanel10Layout);
        jPanel10Layout.setHorizontalGroup(
            jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel11, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jPanel12, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jSeparator23)
        );
        jPanel10Layout.setVerticalGroup(
            jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel10Layout.createSequentialGroup()
                .addComponent(jPanel11, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jSeparator23, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanel12, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout chuyenPhongPanelLayout = new javax.swing.GroupLayout(chuyenPhongPanel);
        chuyenPhongPanel.setLayout(chuyenPhongPanelLayout);
        chuyenPhongPanelLayout.setHorizontalGroup(
            chuyenPhongPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jToolBar5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jSeparator22)
            .addComponent(jPanel10, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        chuyenPhongPanelLayout.setVerticalGroup(
            chuyenPhongPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(chuyenPhongPanelLayout.createSequentialGroup()
                .addComponent(jToolBar5, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jSeparator22, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel10, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jToolBar6.setRollover(true);

        jLabel107.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel107.setForeground(new java.awt.Color(0, 0, 102));
        jLabel107.setText("Mã Phiếu:");

        maPhieuTraPTF.setEditable(false);

        jLabel108.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel108.setForeground(new java.awt.Color(0, 0, 102));
        jLabel108.setText("Ngày Trả:");

        ngayTraDC.setDateFormatString("yyyy-MM-dd");

        traPhongButton.setBackground(new java.awt.Color(0, 0, 102));
        traPhongButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        traPhongButton.setForeground(new java.awt.Color(255, 255, 255));
        traPhongButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Open door.png"))); // NOI18N
        traPhongButton.setText("Trả Phòng");
        traPhongButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                traPhongButtonActionPerformed(evt);
            }
        });

        jLabel109.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel109.setForeground(new java.awt.Color(0, 0, 102));
        jLabel109.setText("Mã SV:");

        jLabel110.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel110.setForeground(new java.awt.Color(0, 0, 102));
        jLabel110.setText("Mã QL:");

        maQLTraPTF.setEditable(false);

        luuLaiTraPButton.setBackground(new java.awt.Color(0, 0, 102));
        luuLaiTraPButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        luuLaiTraPButton.setForeground(new java.awt.Color(255, 255, 255));
        luuLaiTraPButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Save.png"))); // NOI18N
        luuLaiTraPButton.setText("Lưu Lại");
        luuLaiTraPButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                luuLaiTraPButtonActionPerformed(evt);
            }
        });

        jLabel112.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel112.setForeground(new java.awt.Color(0, 0, 102));
        jLabel112.setText("Mã Phòng:");

        suaTraPButton.setBackground(new java.awt.Color(0, 0, 102));
        suaTraPButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        suaTraPButton.setForeground(new java.awt.Color(255, 255, 255));
        suaTraPButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Edit.png"))); // NOI18N
        suaTraPButton.setText("Sửa");
        suaTraPButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                suaTraPButtonActionPerformed(evt);
            }
        });

        jLabel113.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel113.setForeground(new java.awt.Color(0, 0, 102));
        jLabel113.setText("Lí Do Trả:");

        liDoTraPTA.setColumns(20);
        liDoTraPTA.setRows(5);
        jScrollPane18.setViewportView(liDoTraPTA);

        refreshTraPButton.setBackground(new java.awt.Color(0, 0, 102));
        refreshTraPButton.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        refreshTraPButton.setForeground(new java.awt.Color(255, 255, 255));
        refreshTraPButton.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Refresh.png"))); // NOI18N
        refreshTraPButton.setText("Refresh");
        refreshTraPButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                refreshTraPButtonActionPerformed(evt);
            }
        });

        maPhongTraPTF.setEditable(false);

        try {
            maSVTraPFT.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("C#######")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        maSVTraPFT.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                maSVTraPFTFocusLost(evt);
            }
        });

        javax.swing.GroupLayout jPanel23Layout = new javax.swing.GroupLayout(jPanel23);
        jPanel23.setLayout(jPanel23Layout);
        jPanel23Layout.setHorizontalGroup(
            jPanel23Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel23Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel23Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel107)
                    .addComponent(jLabel108))
                .addGap(18, 18, 18)
                .addGroup(jPanel23Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(traPhongButton, javax.swing.GroupLayout.DEFAULT_SIZE, 129, Short.MAX_VALUE)
                    .addComponent(maPhieuTraPTF)
                    .addComponent(ngayTraDC, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addGroup(jPanel23Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel23Layout.createSequentialGroup()
                        .addComponent(jLabel109)
                        .addGap(18, 18, 18)
                        .addGroup(jPanel23Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(maSVTraPFT, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(luuLaiTraPButton, javax.swing.GroupLayout.PREFERRED_SIZE, 122, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel23Layout.createSequentialGroup()
                        .addComponent(jLabel110)
                        .addGap(18, 18, 18)
                        .addComponent(maQLTraPTF, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jLabel112)))
                .addGap(18, 18, 18)
                .addGroup(jPanel23Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel23Layout.createSequentialGroup()
                        .addComponent(maPhongTraPTF, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jLabel113))
                    .addComponent(suaTraPButton, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel23Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane18, javax.swing.GroupLayout.DEFAULT_SIZE, 435, Short.MAX_VALUE)
                    .addGroup(jPanel23Layout.createSequentialGroup()
                        .addComponent(refreshTraPButton, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        jPanel23Layout.setVerticalGroup(
            jPanel23Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel23Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel23Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel23Layout.createSequentialGroup()
                        .addGroup(jPanel23Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel107)
                            .addGroup(jPanel23Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(maPhieuTraPTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel110)
                                .addComponent(maQLTraPTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel112)
                                .addComponent(jLabel113)
                                .addComponent(maPhongTraPTF, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel23Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(ngayTraDC, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel108)
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel23Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(jLabel109)
                                .addComponent(maSVTraPFT, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addComponent(jScrollPane18, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel23Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(refreshTraPButton)
                    .addComponent(traPhongButton)
                    .addGroup(jPanel23Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(luuLaiTraPButton)
                        .addComponent(suaTraPButton)))
                .addContainerGap(27, Short.MAX_VALUE))
        );

        traPhongTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {

            }
        ));
        traPhongTable.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        traPhongTable.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                traPhongTableMouseClicked(evt);
            }
        });
        jScrollPane19.setViewportView(traPhongTable);

        javax.swing.GroupLayout jPanel24Layout = new javax.swing.GroupLayout(jPanel24);
        jPanel24.setLayout(jPanel24Layout);
        jPanel24Layout.setHorizontalGroup(
            jPanel24Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane19)
        );
        jPanel24Layout.setVerticalGroup(
            jPanel24Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane19, javax.swing.GroupLayout.DEFAULT_SIZE, 287, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout jPanel13Layout = new javax.swing.GroupLayout(jPanel13);
        jPanel13.setLayout(jPanel13Layout);
        jPanel13Layout.setHorizontalGroup(
            jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel23, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jSeparator25)
            .addComponent(jPanel24, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanel13Layout.setVerticalGroup(
            jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel13Layout.createSequentialGroup()
                .addComponent(jPanel23, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jSeparator25, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanel24, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout traPhongPanelLayout = new javax.swing.GroupLayout(traPhongPanel);
        traPhongPanel.setLayout(traPhongPanelLayout);
        traPhongPanelLayout.setHorizontalGroup(
            traPhongPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jToolBar6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jSeparator24)
            .addComponent(jPanel13, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        traPhongPanelLayout.setVerticalGroup(
            traPhongPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(traPhongPanelLayout.createSequentialGroup()
                .addComponent(jToolBar6, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jSeparator24, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanel13, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(heThongPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(traPhongPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addContainerGap()))
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(sinhVienPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(chuyenPhongPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addContainerGap()))
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(thuePhongPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addContainerGap()))
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(kyLuatPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addContainerGap()))
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(phongPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addContainerGap()))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(heThongPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(traPhongPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addContainerGap()))
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(sinhVienPanel, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(chuyenPhongPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addContainerGap()))
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(thuePhongPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addContainerGap()))
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(kyLuatPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addContainerGap()))
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(phongPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addContainerGap()))
        );

        heThongMenu.setBackground(new java.awt.Color(0, 0, 102));
        heThongMenu.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        heThongMenu.setForeground(new java.awt.Color(0, 0, 102));
        heThongMenu.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/system.png"))); // NOI18N
        heThongMenu.setText("Hệ thống");
        heThongMenu.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                heThongMenuMouseClicked(evt);
            }
        });
        jMenuBar1.add(heThongMenu);

        sinhVienMenu.setBackground(new java.awt.Color(0, 0, 102));
        sinhVienMenu.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        sinhVienMenu.setForeground(new java.awt.Color(0, 0, 102));
        sinhVienMenu.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Users.png"))); // NOI18N
        sinhVienMenu.setText("QL Sinh Viên");
        sinhVienMenu.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                sinhVienMenuMouseClicked(evt);
            }
        });
        jMenuBar1.add(sinhVienMenu);

        phongMenu.setBackground(new java.awt.Color(0, 0, 102));
        phongMenu.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        phongMenu.setForeground(new java.awt.Color(0, 0, 102));
        phongMenu.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Home.png"))); // NOI18N
        phongMenu.setText("QL Phòng");
        phongMenu.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                phongMenuMouseClicked(evt);
            }
        });
        jMenuBar1.add(phongMenu);

        kyLuatMenu.setBackground(new java.awt.Color(0, 0, 102));
        kyLuatMenu.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        kyLuatMenu.setForeground(new java.awt.Color(0, 0, 102));
        kyLuatMenu.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Favourites.png"))); // NOI18N
        kyLuatMenu.setText("QL Kỷ Luật");
        kyLuatMenu.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                kyLuatMenuMouseClicked(evt);
            }
        });
        jMenuBar1.add(kyLuatMenu);

        qLPhongMenu.setBackground(new java.awt.Color(0, 0, 102));
        qLPhongMenu.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        qLPhongMenu.setForeground(new java.awt.Color(0, 0, 102));
        qLPhongMenu.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Open door.png"))); // NOI18N
        qLPhongMenu.setText("Chức Năng Phòng");

        thuePhongMenu.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_T, java.awt.event.InputEvent.CTRL_DOWN_MASK));
        thuePhongMenu.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        thuePhongMenu.setForeground(new java.awt.Color(0, 0, 102));
        thuePhongMenu.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Open door.png"))); // NOI18N
        thuePhongMenu.setText("QL Thuê Phòng");
        thuePhongMenu.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                thuePhongMenuMouseClicked(evt);
            }
        });
        thuePhongMenu.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                thuePhongMenuActionPerformed(evt);
            }
        });
        qLPhongMenu.add(thuePhongMenu);

        chuyenPhongMenu.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_C, java.awt.event.InputEvent.CTRL_DOWN_MASK));
        chuyenPhongMenu.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        chuyenPhongMenu.setForeground(new java.awt.Color(0, 0, 102));
        chuyenPhongMenu.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Closed door.png"))); // NOI18N
        chuyenPhongMenu.setText("QL Chuyển Phòng");
        chuyenPhongMenu.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                chuyenPhongMenuMouseClicked(evt);
            }
        });
        chuyenPhongMenu.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chuyenPhongMenuActionPerformed(evt);
            }
        });
        qLPhongMenu.add(chuyenPhongMenu);

        traPhongMenu.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_X, java.awt.event.InputEvent.CTRL_DOWN_MASK));
        traPhongMenu.setFont(new java.awt.Font("Segoe UI", 1, 12)); // NOI18N
        traPhongMenu.setForeground(new java.awt.Color(0, 0, 102));
        traPhongMenu.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Exit.png"))); // NOI18N
        traPhongMenu.setText("QL Trả Phòng");
        traPhongMenu.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                traPhongMenuMouseClicked(evt);
            }
        });
        traPhongMenu.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                traPhongMenuActionPerformed(evt);
            }
        });
        qLPhongMenu.add(traPhongMenu);

        jMenuBar1.add(qLPhongMenu);

        thuTienMenu.setBackground(new java.awt.Color(0, 0, 102));
        thuTienMenu.setForeground(new java.awt.Color(0, 0, 102));
        thuTienMenu.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/dollar.png"))); // NOI18N
        thuTienMenu.setText(" Thu Tiền");
        thuTienMenu.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                thuTienMenuMouseClicked(evt);
            }
        });
        jMenuBar1.add(thuTienMenu);

        taiKhoanMenu.setForeground(new java.awt.Color(0, 0, 102));
        taiKhoanMenu.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/User.png"))); // NOI18N
        taiKhoanMenu.setText("Tài Khoản");
        taiKhoanMenu.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                taiKhoanMenuMouseClicked(evt);
            }
        });
        jMenuBar1.add(taiKhoanMenu);

        qLTaiKhoanMenu.setForeground(new java.awt.Color(0, 0, 102));
        qLTaiKhoanMenu.setIcon(new javax.swing.ImageIcon(getClass().getResource("/icon/Users.png"))); // NOI18N
        qLTaiKhoanMenu.setText("Quản Lý Tài Khoản");
        qLTaiKhoanMenu.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                qLTaiKhoanMenuMouseClicked(evt);
            }
        });
        jMenuBar1.add(qLTaiKhoanMenu);

        setJMenuBar(jMenuBar1);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void SoftByHeaderColumn() {
        TableRowSorter<DefaultTableModel> sorterSV = new TableRowSorter<DefaultTableModel>(defaultSVModel);
        sinhVienTable.setRowSorter(sorterSV);
        TableRowSorter<DefaultTableModel> sorterP = new TableRowSorter<DefaultTableModel>(defaultPModel);
        phongTable.setRowSorter(sorterP);
        TableRowSorter<DefaultTableModel> sorterTP = new TableRowSorter<DefaultTableModel>(defaultTPModel);
        thuePhongTable.setRowSorter(sorterTP);
        TableRowSorter<DefaultTableModel> sorterCP = new TableRowSorter<DefaultTableModel>(defaultCPModel);
        chuyenPhongTable.setRowSorter(sorterCP);
        TableRowSorter<DefaultTableModel> sorterKL = new TableRowSorter<DefaultTableModel>(defaultKLModel);
        kyLuatTable.setRowSorter(sorterKL);
        TableRowSorter<DefaultTableModel> sorterTraP = new TableRowSorter<DefaultTableModel>(defaultTraPModel);
        traPhongTable.setRowSorter(sorterTraP);
    }
    
    private void callListData() {
        phongService = new PhongService();
        p = new Phong();
        listPhong = phongService.getAllPhongs();
        
        sinhVienService = new SinhVienService();
        sV = new SinhVien();
        listSV = sinhVienService.getAllSinhViens();
        
        thuePhongService = new ThuePhongService();
        
        kyLuatService = new KyLuatService();
        
        quanLyService = new QuanLyService();
        
        chuyenPhongService = new ChuyenPhongService();
        
        traPhongService = new TraPhongService();
    }
//    Sinh Viên

    private void setTableSV() {
        defaultSVModel = new DefaultTableModel() {
            @Override
            public boolean isCellEditable(int row, int column) {
                return false;
            }
        };
        
        sinhVienTable.setModel(defaultSVModel);
        defaultSVModel.addColumn("Mã SV");
        defaultSVModel.addColumn("Họ Tên");
        defaultSVModel.addColumn("SĐT");
        defaultSVModel.addColumn("Giới Tính");
        defaultSVModel.addColumn("Địa Chỉ");
        defaultSVModel.addColumn("Ngày Sinh");
        defaultSVModel.addColumn("Ngành");
        defaultSVModel.addColumn("Khoá");
        defaultSVModel.addColumn("Ngày Vào");
        defaultSVModel.addColumn("Mã Phòng");
        defaultSVModel.addColumn("Vi Phạm");
        
        TableColumnModel colModel = sinhVienTable.getColumnModel();
        
        colModel.getColumn(0).setPreferredWidth(50);
        colModel.getColumn(1).setPreferredWidth(120);
        colModel.getColumn(4).setPreferredWidth(120);
        
        setDataSV(sinhVienService.getAllSinhViens());
    }
    
    public void setDataSV(List<SinhVien> listSV) {
        defaultSVModel.setRowCount(0);
        listSV.forEach(sv -> {
            if (sv.getTrangThai().equalsIgnoreCase("đang thuê")) {
                defaultSVModel.addRow(new Object[]{
                    sv.getMaSV(), sv.getHoTen(), sv.getSdt(), sv.getGioiTinh(), sv.getDiaChi(),
                    sv.getNgaySinh(), sv.getNganh(), sv.getKhoa(), sv.getNgayVao(), sv.getMaPhong(), sv.getSoLanViPham()
                });
            }
        });
    }
    
    private void setVisibleSearch(boolean result) {
        maSVRb.setVisible(result);
        hoTenRb.setVisible(result);
        nganhCb.setVisible(result);
        khoaCb.setVisible(result);
        searchSV1Button.setVisible(result);
    }

//    Phòng
    private void setTablePhong() {
        defaultPModel = new DefaultTableModel() {
            @Override
            public boolean isCellEditable(int row, int column) {
                return false;
            }
            
        };
        phongTable.setModel(defaultPModel);
        defaultPModel.addColumn("Mã Phòng");
        defaultPModel.addColumn("Loại Phòng");
        defaultPModel.addColumn("Số Giường");
        defaultPModel.addColumn("Số Người");
        defaultPModel.addColumn("Giá Tiền");
        defaultPModel.addColumn("Trạng Thái");
        
        setDataPhong(listPhong);
    }
    
    private void setDataPhong(List<Phong> listPhong) {
        defaultPModel.setRowCount(0);
        listPhong.forEach(p -> {
            defaultPModel.addRow(new Object[]{
                p.getMaPhong(), p.getLoaiPhong(), p.getSoGiuong(), p.getSoNguoi(), p.getGiaTien(), p.getTrangThai()
            });
        });
        
    }

//    Thuê Phòng:
    private void setTableTP() {
        defaultTPModel = new DefaultTableModel() {
            @Override
            public boolean isCellEditable(int row, int column) {
                return false;
            }
            
        };
        thuePhongTable.setModel(defaultTPModel);
        defaultTPModel.addColumn("Mã Phiếu");
        defaultTPModel.addColumn("Mã SV");
        defaultTPModel.addColumn("Mã QL");
        defaultTPModel.addColumn("Mã Phòng");
        defaultTPModel.addColumn("Ngày Vào");
        setDataTP(thuePhongService.getAllThuePhongs());
        
    }
    
    private void setDataTP(List<ThuePhong> listTP) {
        defaultTPModel.setRowCount(0);
        listTP.forEach(tP -> {
            defaultTPModel.addRow(new Object[]{
                tP.getMaPhieu(), tP.getMaSV(), tP.getMaQL(), tP.getMaPhong(), tP.getNgayVao()
            });
        });
    }
//    Kỷ Luật:

    private void setTableKL() {
        defaultKLModel = new DefaultTableModel() {
            @Override
            public boolean isCellEditable(int row, int column) {
                return false;
            }
            
        };
        kyLuatTable.setModel(defaultKLModel);
        defaultKLModel.addColumn("Mã Phiếu");
        defaultKLModel.addColumn("Loại KL");
        defaultKLModel.addColumn("Nội dung");
        defaultKLModel.addColumn("Hình Thức Phạt");
        defaultKLModel.addColumn("Mã SV");
        defaultKLModel.addColumn("Mã QL");
        defaultKLModel.addColumn("Ngày Vi Phạm");
        TableColumnModel colModel = kyLuatTable.getColumnModel();
        
        colModel.getColumn(0).setPreferredWidth(40);
        colModel.getColumn(1).setPreferredWidth(40);
        colModel.getColumn(2).setPreferredWidth(150);
        setDataKL(kyLuatService.getAllKyLuats());
    }
    
    private void setDataKL(List<KyLuat> listKL) {
        defaultKLModel.setRowCount(0);
        listKL.forEach(kL -> {
            defaultKLModel.addRow(new Object[]{
                kL.getMaPhieu(), kL.getLoaiKL(), kL.getNoiDung(), kL.getHinhThucPhat(), kL.getMaSV(), kL.getMaQL(), kL.getNgayViPham()
            });
        });
    }
//    Chuyển Phòng:

    private void setTableCP() {
        defaultCPModel = new DefaultTableModel() {
            @Override
            public boolean isCellEditable(int row, int column) {
                return false;
            }
            
        };
        chuyenPhongTable.setModel(defaultCPModel);
        defaultCPModel.addColumn("Mã Phiếu");
        defaultCPModel.addColumn("Mã SV");
        defaultCPModel.addColumn("MP Cũ");
        defaultCPModel.addColumn("MP Mới");
        defaultCPModel.addColumn("Mã QL");
        defaultCPModel.addColumn("Ngày Chuyển");
        defaultCPModel.addColumn("Lí Do");
        
        setDataCP(chuyenPhongService.getAllChuyenPhongs());
    }
    
    private void setDataCP(List<ChuyenPhong> listCP) {
        defaultCPModel.setRowCount(0);
        listCP.forEach(cP -> {
            defaultCPModel.addRow(new Object[]{
                cP.getMaPhieu(), cP.getMaSV(), cP.getMaPhongCu(), cP.getMaPhongMoi(), cP.getMaQL(), cP.getNgayChuyen(), cP.getLiDo()
            });
        });
    }
//  Trả Phòng: 

    private void setTableTraP() {
        defaultTraPModel = new DefaultTableModel() {
            @Override
            public boolean isCellEditable(int row, int column) {
                return false;
            }
            
        };
        traPhongTable.setModel(defaultTraPModel);
        defaultTraPModel.addColumn("Mã Phiếu");
        defaultTraPModel.addColumn("Mã SV");
        defaultTraPModel.addColumn("Mã Phòng");
        defaultTraPModel.addColumn("Mã QL");
        defaultTraPModel.addColumn("Ngày Trả");
        defaultTraPModel.addColumn("Lí Do");
        
        setDataTraP(traPhongService.getAlLTraPhongs());
    }
    
    private void setDataTraP(List<TraPhong> listTraP) {
        defaultTraPModel.setRowCount(0);
        listTraP.forEach(traP -> {
            defaultTraPModel.addRow(new Object[]{
                traP.getMaPhieu(), traP.getMaSV(), traP.getMaPhong(), traP.getMaQL(), traP.getNgayTra(), traP.getLiDo()
            });
        });
    }

//    Hệ thống
    private void changeTabMenu(JPanel panel) {
        heThongPanel.setVisible(false);
        sinhVienPanel.setVisible(false);
        phongPanel.setVisible(false);
        kyLuatPanel.setVisible(false);
        thuePhongPanel.setVisible(false);
        chuyenPhongPanel.setVisible(false);
        traPhongPanel.setVisible(false);
        panel.setVisible(true);
    }

//    Thống kê
    private void chuyenThongKe() {
        thongKePhong();
        String sql = "SELECT COUNT(MASV) AS SOSV, NGAYVAO FROM THUEPHONG WHERE YEAR(NGAYVAO) = YEAR(NOW())\n"
                + "	GROUP BY NGAYVAO";
        thongKeThuePhong(sql);
        
        String sqlKL = "SELECT COUNT(MASV) AS SOSV, NGAYVIPHAM FROM KYLUAT \n WHERE MONTH(NGAYVIPHAM) = 1"
                + "	GROUP BY NGAYVIPHAM";
        thongKeKyLuat(sqlKL);
    }
    
    private void thongKePhong() {
        DefaultCategoryDataset dataSet = new DefaultCategoryDataset();
        listPhong = phongService.getAllPhongs();
        for (Phong p : listPhong) {
            dataSet.setValue(p.getSoNguoi(), "Số Sinh Viên", "" + p.getMaPhong());
        }
        JFreeChart chart = ChartFactory.createBarChart("Số SV trong phòng", "Mã Phòng", "Số SV", dataSet, PlotOrientation.VERTICAL, true, true, true);
        CategoryPlot p = chart.getCategoryPlot();
        p.setRangeGridlinePaint(Color.PINK);
        ChartPanel chartPanel = new ChartPanel(chart);
        chartPanel.setPreferredSize(new Dimension(TKPhongPanel.getWidth(), TKPhongPanel.getHeight()));
        TKPhongPanel.removeAll();
        TKPhongPanel.setLayout(new CardLayout());
        TKPhongPanel.add(chartPanel);
        TKPhongPanel.validate();
        TKPhongPanel.repaint();
    }
    
    private void thongKeThuePhong(String sql) {
        DefaultCategoryDataset dataSet = new DefaultCategoryDataset();
        
        listTK = thuePhongService.thongKeSVTP(sql);
        for (ThongKeSV tK : listTK) {
//            if(tP.)
            dataSet.setValue(tK.getSoSV(), "Số Sinh Viên", tK.getNgayVao().toString().substring(tK.getNgayVao().toString().length() - 2));
        }
        JFreeChart chart = ChartFactory.createBarChart("Số SV đã thuê phòng", "Ngày", "Số SV", dataSet, PlotOrientation.VERTICAL, true, true, true);
        CategoryPlot p = chart.getCategoryPlot();
        p.setRangeGridlinePaint(Color.PINK);
        ChartPanel chartPanel = new ChartPanel(chart);
        chartPanel.setPreferredSize(new Dimension(TKThuePhongPanel.getWidth(), TKThuePhongPanel.getHeight()));
        TKThuePhongPanel.removeAll();
        TKThuePhongPanel.setLayout(new CardLayout());
        TKThuePhongPanel.add(chartPanel);
        TKThuePhongPanel.validate();
        TKThuePhongPanel.repaint();
    }
    
    private void thongKeKyLuat(String sql) {
        DefaultCategoryDataset dataSet = new DefaultCategoryDataset();

//        Đổ dữ liệu vào dataset thông qua list 
        listTKKL = kyLuatService.thongKeKLSV(sql);
        for (ThongKeKL kL : listTKKL) {
            dataSet.setValue(kL.getSoSV(), "Số Sinh Viên", kL.getNgayViPham().toString().substring(kL.getNgayViPham().toString().length() - 2));
        }
        
        JFreeChart chart = ChartFactory.createBarChart("Số SV bị kỉ luật", "Ngày", "Số SV", dataSet, PlotOrientation.VERTICAL, true, true, true);
        CategoryPlot p = chart.getCategoryPlot();
        p.setRangeGridlinePaint(Color.PINK);
        ChartPanel chartPanel = new ChartPanel(chart);
        chartPanel.setPreferredSize(new Dimension(TKKyLuatPanel.getWidth(), TKKyLuatPanel.getHeight()));
        TKKyLuatPanel.removeAll();
        TKKyLuatPanel.setLayout(new CardLayout());
        TKKyLuatPanel.add(chartPanel);
        TKKyLuatPanel.validate();
        TKKyLuatPanel.repaint();
    }

    private void heThongMenuMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_heThongMenuMouseClicked
        // TODO add your handling code here:
        changeTabMenu(heThongPanel);
        chuyenThongKe();
    }//GEN-LAST:event_heThongMenuMouseClicked

    private void sinhVienMenuMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_sinhVienMenuMouseClicked
        // TODO add your handling code here:
        changeTabMenu(sinhVienPanel);
        
        listSV = sinhVienService.getAllSinhViens();
        int dem = 0;
        for (SinhVien sV : listSV) {
            if (sV.getTrangThai().equalsIgnoreCase("đang thuê")) {
                dem += 1;
            }
        }
        danhSachSVLabel.setText("Danh sách gồm " + dem + " sinh viên");
        setDataSV(listSV);
    }//GEN-LAST:event_sinhVienMenuMouseClicked

    private void phongMenuMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_phongMenuMouseClicked
        // TODO add your handling code here:
        changeTabMenu(phongPanel);
        
        setDataPhong(phongService.getAllPhongs());

    }//GEN-LAST:event_phongMenuMouseClicked

    private void kyLuatMenuMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_kyLuatMenuMouseClicked
        // TODO add your handling code here:
        changeTabMenu(kyLuatPanel);
        maQLKLTF.setText(maQL);
        loaiKLCbb.removeAllItems();
        listQL = quanLyService.getAllQuanLys();
        listQL.forEach(qL -> {
            loaiKLCbb.addItem(qL.getPhuTrach());
        });
    }//GEN-LAST:event_kyLuatMenuMouseClicked

    private void soGiuongSpStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_soGiuongSpStateChanged
        // TODO add your handling code here:
        String loaiPhong = String.valueOf(loaiPhongCbb.getSelectedItem());
        int soGiuong = (int) soGiuongSp.getValue();
        float giaTien;
        if (loaiPhong.equalsIgnoreCase("Loại 1")) {
            giaTien = 400000;
        } else {
            giaTien = 200000;
        }

//        soNguoiSp.setValue(soGiuong * 2);
        giaTienFT.setValue(giaTien * soGiuong);
    }//GEN-LAST:event_soGiuongSpStateChanged

    private void loaiPhongCbbActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_loaiPhongCbbActionPerformed
        // TODO add your handling code here:
        String loaiPhong = String.valueOf(loaiPhongCbb.getSelectedItem());
        int soGiuong = (int) soGiuongSp.getValue();
        float giaTien;
        if (loaiPhong.equalsIgnoreCase("Loại 1")) {
            giaTien = 400000;
        } else {
            giaTien = 200000;
        }

//        soNguoiSp.setValue(soGiuong * 2);
        giaTienFT.setValue(giaTien * soGiuong);
    }//GEN-LAST:event_loaiPhongCbbActionPerformed

    private void refreshButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_refreshButtonActionPerformed
        // TODO add your handling code here:
        maPhongFT.setEditable(true);
        maPhongFT.setText("");
        loaiPhongCbb.setSelectedIndex(0);
        soGiuongSp.setValue(0);
        soNguoiSp.setValue(0);
        giaTienFT.setText("");
        defaultPModel.setRowCount(0);
        luuLaiPhongButton.setVisible(false);
        setDataPhong(phongService.getAllPhongs());
    }//GEN-LAST:event_refreshButtonActionPerformed

    private void themPhongButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_themPhongButtonActionPerformed
        // TODO add your handling code here:
        maPhongFT.setEditable(false);
        listPhong = phongService.getAllPhongs();
        if (listPhong.size() == 0) {
            maPhongFT.setText("" + 100);
        } else {
            maPhongFT.setText("" + (listPhong.get(listPhong.size() - 1).getMaPhong() + 1));
        }
        loaiPhongCbb.setSelectedIndex(0);
        SpinnerModel soGiuongSpinner = new SpinnerNumberModel(1, 1, 6, 1);
        soGiuongSp.setModel(soGiuongSpinner);
        soNguoiSp.setValue(0);
        giaTienFT.setText("400,000");
        luuLaiPhongButton.setVisible(true);

    }//GEN-LAST:event_themPhongButtonActionPerformed

    private void xoaPhongButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_xoaPhongButtonActionPerformed
        // TODO add your handling code here:
        int row = phongTable.getSelectedRow();
        if (row == -1) {
            JOptionPane.showMessageDialog(rootPane, "Vui lòng chọn phòng để xoá!");
        } else {
            int check = JOptionPane.showConfirmDialog(rootPane, "Bạn có chắc chắn muốn xoá không?");
            if (check == JOptionPane.YES_OPTION) {
                int maPhong = Integer.parseInt(String.valueOf(phongTable.getValueAt(row, 0)));
                
                int soNguoi = Integer.parseInt(String.valueOf(phongTable.getValueAt(row, 3)));
                if (soNguoi != 0) {
                    JOptionPane.showMessageDialog(rootPane, "Phòng này đang có người thuê không thể xoá!", "Thông báo lỗi", JOptionPane.ERROR_MESSAGE);
                } else {
                    phongService.deletePhong(maPhong);
                    
                    setDataPhong(phongService.getAllPhongs());
                }
            }
        }
    }//GEN-LAST:event_xoaPhongButtonActionPerformed

    private void suaPhongButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_suaPhongButtonActionPerformed
        // TODO add your handling code here:
        int row = phongTable.getSelectedRow();
        if(row == -1) {
            JOptionPane.showMessageDialog(rootPane, "Vui lòng chọn phòng để sửa!");
        } else {
            int confirm = JOptionPane.showConfirmDialog(rootPane, "Bạn có muốn sửa phòng này không?");
            if (confirm == JOptionPane.YES_OPTION) {

                p.setMaPhong(Integer.parseInt(maPhongFT.getText()));
                p.setLoaiPhong(String.valueOf(loaiPhongCbb.getSelectedItem()));
                int soNguoi = Integer.parseInt(String.valueOf(soNguoiSp.getValue()));
                p.setSoNguoi(soNguoi);
                p.setSoGiuong(Integer.parseInt(String.valueOf(soGiuongSp.getValue())));
                p.setGiaTien(Double.parseDouble(giaTienFT.getText().replace(",", "")));
                phongService.updatePhong(p);

                setDataPhong(phongService.getAllPhongs());

            }
        }
    }//GEN-LAST:event_suaPhongButtonActionPerformed

    private void luuLaiPhongButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_luuLaiPhongButtonActionPerformed
        // TODO add your handling code here:
        p.setMaPhong(Integer.parseInt(maPhongFT.getText()));
        p.setLoaiPhong(String.valueOf(loaiPhongCbb.getSelectedItem()));
        p.setSoGiuong(Integer.parseInt(String.valueOf(soGiuongSp.getValue())));
        p.setSoNguoi(Integer.parseInt(String.valueOf(soNguoiSp.getValue())));
        p.setGiaTien(Double.parseDouble(giaTienFT.getText().replace(",", "")));
        p.setTrangThai("Còn Trống");
        
        phongService.insertPhong(p);
        
        luuLaiPhongButton.setVisible(false);
        
        setDataPhong(phongService.getAllPhongs());
        refreshButtonActionPerformed(evt);
    }//GEN-LAST:event_luuLaiPhongButtonActionPerformed

    private void chonAnhSVTPButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chonAnhSVTPButtonActionPerformed
        // TODO add your handling code here:
        fileChooser = new JFileChooser();
        FileNameExtensionFilter anhFile = new FileNameExtensionFilter("Chọn ảnh", "png", "jpg");
        fileChooser.setFileFilter(anhFile);
        fileChooser.setMultiSelectionEnabled(false);
        int x = fileChooser.showDialog(this, "Chọn Ảnh");
        if (x == JFileChooser.APPROVE_OPTION) {
            File f = fileChooser.getSelectedFile();
            String link = f.getAbsolutePath();
//            ImageIcon imageIcon = new ImageIcon(new ImageIcon(link).getImage().getScaledInstance(anhSVTPLabel.getWidth(), anhSVTPLabel.getHeight(), Image.SCALE_DEFAULT));
            anhSVTPLabel.setIcon(new ImageIcon(link));
        }

    }//GEN-LAST:event_chonAnhSVTPButtonActionPerformed

    private void phongTableMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_phongTableMouseClicked
        // TODO add your handling code here:
        int row = phongTable.getSelectedRow();
        if (row == -1) {
            JOptionPane.showMessageDialog(rootPane, "Vui lòng chọn phòng!");
        } else {
            int maPhong = Integer.parseInt(String.valueOf(phongTable.getValueAt(row, 0)));
            p = phongService.getPhongByMaPhong(maPhong);
            maPhongFT.setEditable(false);
            maPhongFT.setText("" + p.getMaPhong());
            loaiPhongCbb.setSelectedItem(p.getLoaiPhong());
            double soNguoi = p.getSoNguoi();
            SpinnerModel soGiuongSpinner;
            int min = (int) Math.ceil(soNguoi / 2);
            if (min == 0) {
                soGiuongSpinner = new SpinnerNumberModel(p.getSoGiuong(), 1, 6, 1);
            } else {
                soGiuongSpinner = new SpinnerNumberModel(p.getSoGiuong(), min, 6, 1);                
            }
            soGiuongSp.setModel(soGiuongSpinner);
            soNguoiSp.setValue(p.getSoNguoi());
            giaTienFT.setValue(p.getGiaTien());
            
            luuLaiPhongButton.setVisible(false);
            
        }
    }//GEN-LAST:event_phongTableMouseClicked

    private void themSVTPButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_themSVTPButtonActionPerformed
        // TODO add your handling code here:
        int maPhieu = Integer.parseInt(maPhieuTPTF.getText());
        String maSV = maSVTPFT.getText();
        String anh = String.valueOf(anhSVTPLabel.getIcon());
        String hoTen = hoTenSVTPTF.getText();
        String sdt = sdtSVTPFT.getText();
        String gioiTinh = "";
        if (namTPRadioButton.isSelected()) {
            gioiTinh = "Nam";
        } else {
            gioiTinh = "Nữ";
        }
        String diaChi = diaChiSVTPTF.getText();
        Date ngaySinh = ngaySinhSVTPDC.getDate();
        String nganh = String.valueOf(nganhSVTPCbb.getSelectedItem());
        String khoa = String.valueOf(khoaSVTPCbb.getSelectedItem());
        Date ngayVao = ngayVaoSVTPDC.getDate();
        String maQL = maQLTPTF.getText();
        int maPhong = Integer.parseInt(String.valueOf(maPhongTPCbb.getSelectedItem()));

//        Check dữ liệu
        boolean isTrue = true;
        listSV = sinhVienService.getAllSinhViens();
        
        for (SinhVien sv : listSV) {
            if (sv.getMaSV().equalsIgnoreCase(maSV)) {
                maSVTPFT.setText("");
                isTrue = false;
                JOptionPane.showMessageDialog(rootPane, "Sinh viên này đã tồn tại trong Kí Túc Xá", "Thông báo lỗi", JOptionPane.ERROR_MESSAGE);
            }
        }
        
        if (maSV.length() != 8 || anh == "" || hoTen == "" || sdt.length() != 10 || gioiTinh == "" || diaChi == "" || ngaySinh == null || nganh == "" || khoa == "" || ngayVao == null) {
            isTrue = false;
        }

//        Sinh Viên:
        if (isTrue) {
            sV.setMaSV(maSV);
            sV.setAnh(anh);
            sV.setHoTen(hoTen);
            sV.setSdt(sdt);
            sV.setGioiTinh(gioiTinh);
            sV.setDiaChi(diaChi);
            sV.setNgaySinh(ngaySinh);
            sV.setNganh(nganh);
            sV.setKhoa(khoa);
            sV.setNgayVao(ngayVao);
            sV.setMaPhong(maPhong);
            sV.setSoLanViPham(0);
            sV.setTrangThai("Đang Thuê");
            sinhVienService.insertSinhVien(sV);

            //        Thuê Phòng:
            ThuePhong tP = new ThuePhong();
            tP.setMaPhieu(maPhieu);
            tP.setMaSV(maSV);
            tP.setMaQL(maQL);
            tP.setMaPhong(maPhong);
            tP.setNgayVao(ngayVao);
            tP.setTrangThai("BT");
            thuePhongService.insertThuePhong(tP);
            
            setDataTP(thuePhongService.getAllThuePhongs());

            //        Phòng:
            phongService.getAllPhongs().forEach(p -> {
                if (p.getMaPhong() == maPhong) {
                    p.setSoNguoi(p.getSoNguoi() + 1);
                    if (p.getSoNguoi() >= p.getSoGiuong() * 2) {
                        p.setTrangThai("Đủ Người");
                    }
                    phongService.updatePhong(p);
                }
            });
            maSVTPFT.setText("");

//            Check xem phòng còn trống không
            maPhongTPCbb.removeAllItems();
            phongService.getAllPhongs().forEach(p -> {
                if (p.getTrangThai().equalsIgnoreCase("Còn trống")) {
                    maPhongTPCbb.addItem(p.getMaPhong());
                }
            });
            
            listTP = thuePhongService.getAllThuePhongs();
            maPhieuTPTF.setText("" + (listTP.get(listTP.size() - 1).getMaPhieu() + 1));
            refreshSVTPButtonActionPerformed(evt);
        } else {
            JOptionPane.showMessageDialog(rootPane, "Vui lòng điền đầy đủ thông tin", "Thông báo lỗi", JOptionPane.ERROR_MESSAGE);
        }
        

    }//GEN-LAST:event_themSVTPButtonActionPerformed

    private void sinhVienTableMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_sinhVienTableMouseClicked
        // TODO add your handling code here:
//        Với hàng
        int row = sinhVienTable.getSelectedRow();
        if (row == -1) {
            JOptionPane.showMessageDialog(rootPane, "Vui lòng chọn sinh viên!");
        } else {
            String maSV = String.valueOf(sinhVienTable.getValueAt(row, 0));
            sV = sinhVienService.getSinhVienByMaSV(maSV);
            maSVFT.setText(sV.getMaSV());
            anhSVLabel.setIcon(new ImageIcon(sV.getAnh()));
            hoTenSVTF.setText(sV.getHoTen());
            sdtSVTF.setText(sV.getSdt());
            String gioiTinh = sV.getGioiTinh();
            if (gioiTinh.equals("Nam")) {
                namSVRB.setSelected(true);
            } else {
                nuSVRB.setSelected(true);
            }
            diaChiSVTF.setText(sV.getDiaChi());
            ngaySinhSVDV.setDate(sV.getNgaySinh());
            nganhSVCbb.setSelectedItem(sV.getNganh());
            khoaSVCbb.setSelectedItem(sV.getKhoa());
            ngayVaoSVDC.setDate(sV.getNgayVao());
            maPhongSVTF.setText("" + sV.getMaPhong());
            soLanViPhamSVTF.setText("" + sV.getSoLanViPham());
            trangThaiSVTF.setText(sV.getTrangThai());
        }
//        Với cột:
//        int col = defaultSVModel.get
//        JOptionPane.showMessageDialog(rootPane, col);
//        String tenCot = sinhVienTable.getColumnName(col);
//        JOptionPane.showMessageDialog(rootPane, tenCot);
//        if(tenCot.equalsIgnoreCase("vi phạm")) {
//            listSV = sinhVienService.getAllSinhViens();
//            Collections.sort(listSV, new Comparator<SinhVien>() {
//                @Override
//                public int compare(SinhVien s1, SinhVien s2) {
//                    if(s1.getSoLanViPham() > s2.getSoLanViPham()) {
//                        return -1;
//                    } else {
//                        return 1;
//                    }
//                }
//            });
//        }
//        setDataSV(listSV);
    }//GEN-LAST:event_sinhVienTableMouseClicked

    private void suaSVButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_suaSVButtonActionPerformed
        // TODO add your handling code here:
        int confirm = JOptionPane.showConfirmDialog(rootPane, "Bạn có chắc chắn muốn sửa không?");
        if (confirm == JOptionPane.YES_OPTION) {
            String anh = String.valueOf(anhSVLabel.getIcon());
            String maSV = maSVFT.getText();
            String hoTen = hoTenSVTF.getText();
            String sdt = sdtSVTF.getText();
            String gioiTinh = "";
            if (namSVRB.isSelected()) {
                gioiTinh = "Nam";
            } else {
                gioiTinh = "Nữ";
            }
            String diaChi = diaChiSVTF.getText();
            Date ngaySinh = ngaySinhSVDV.getDate();
            String nganh = String.valueOf(nganhSVCbb.getSelectedItem());
            String khoa = String.valueOf(khoaSVCbb.getSelectedItem());
            Date ngayVao = ngayVaoSVDC.getDate();
            int maPhong = Integer.parseInt(maPhongSVTF.getText());
            int soLanViPham = Integer.parseInt(soLanViPhamSVTF.getText());
            String trangThai = trangThaiSVTF.getText();
            
            sV.setMaSV(maSV);
            sV.setAnh(anh);
            sV.setHoTen(hoTen);
            sV.setSdt(sdt);
            sV.setGioiTinh(gioiTinh);
            sV.setDiaChi(diaChi);
            sV.setNgaySinh(ngaySinh);
            sV.setNganh(nganh);
            sV.setKhoa(khoa);
            sV.setNgayVao(ngayVao);
            sV.setMaPhong(maPhong);
            sV.setSoLanViPham(soLanViPham);
            sV.setTrangThai(trangThai);
            
            sinhVienService.updateSinhVien(sV);
            
            setDataSV(sinhVienService.getAllSinhViens());
        }
    }//GEN-LAST:event_suaSVButtonActionPerformed

    private void chonAnhSVButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chonAnhSVButtonActionPerformed
        // TODO add your handling code here:
        fileChooser = new JFileChooser();
        FileNameExtensionFilter anhFile = new FileNameExtensionFilter("Chọn ảnh", "png", "jpg");
        fileChooser.setFileFilter(anhFile);
        fileChooser.setMultiSelectionEnabled(false);
        int x = fileChooser.showDialog(this, "Chọn Ảnh");
        if (x == JFileChooser.APPROVE_OPTION) {
            File f = fileChooser.getSelectedFile();
            String link = f.getAbsolutePath();
            ImageIcon imageIcon = new ImageIcon(new ImageIcon(link).getImage().getScaledInstance(anhSVLabel.getWidth(), anhSVLabel.getHeight(), Image.SCALE_DEFAULT));
            anhSVLabel.setIcon(new ImageIcon(link));
        }
    }//GEN-LAST:event_chonAnhSVButtonActionPerformed

    private void maSVTPFTFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_maSVTPFTFocusLost
        // TODO add your handling code here:
        String maSV = maSVTPFT.getText();
        listSV = sinhVienService.getAllSinhViens();
        listSV.forEach(sv -> {
            if (sv.getMaSV().equalsIgnoreCase(maSV)) {
                if (sv.getTrangThai().equalsIgnoreCase("đang thuê")) {
                    maSVTPFT.setText("");
                    JOptionPane.showMessageDialog(rootPane, "Sinh viên này đã tồn tại trong Kí Túc Xá", "Thông báo lỗi", JOptionPane.ERROR_MESSAGE);
                } else {
                    JOptionPane.showMessageDialog(rootPane, "Sinh viên này đã từng thuê ở Kí Túc Xá, chỉ cần nhập số phòng và ngày thuê lại", "Thông báo lỗi", JOptionPane.ERROR_MESSAGE);
                    String anh = sv.getAnh();
                    anhSVTPLabel.setIcon(new ImageIcon(anh));
                    choThueLaiButton.setVisible(true);
                }
            }
        });
    }//GEN-LAST:event_maSVTPFTFocusLost

    private void refreshSVTPButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_refreshSVTPButtonActionPerformed
        // TODO add your handling code here:
        anhSVTPLabel.setIcon(null);
        maSVTPFT.setText("");
        hoTenSVTPTF.setText("");
        sdtSVTPFT.setText("");
        diaChiSVTPTF.setText("");
//        ngaySinhSVTPDC.setDate(date);
        nganhSVTPCbb.setSelectedIndex(0);
        khoaSVTPCbb.setSelectedIndex(0);
        choThueLaiButton.setVisible(false);
//        ngayVaoSVTPFT.setText("");

    }//GEN-LAST:event_refreshSVTPButtonActionPerformed

    private void suaSVTPButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_suaSVTPButtonActionPerformed
        // TODO add your handling code here:
        int row = thuePhongTable.getSelectedRow();
        if (row == -1) {
            JOptionPane.showMessageDialog(rootPane, "Vui lòng chọn phòng cần sửa!!!");
        } else {
            int confirm = JOptionPane.showConfirmDialog(rootPane, "Bạn có chắc chắn muốn sửa không??");
            if (confirm == JOptionPane.YES_OPTION) {
                int maPhieu = Integer.parseInt(String.valueOf(thuePhongTable.getValueAt(row, 0)));
                String maSV = String.valueOf(thuePhongTable.getValueAt(row, 1));
                Date ngayVao = ngayVaoSVTPDC.getDate();
                
                thuePhongService.updateNgayVaoThuePhong(ngayVao, maPhieu);
                
                listSV = sinhVienService.getAllSinhViens();
                for (SinhVien sv : listSV) {
                    if (sv.getMaSV().equals(maSV)) {
                        sv.setNgayVao(ngayVao);
                        sinhVienService.updateSinhVien(sv);
                    }
                }
                
                setDataTP(thuePhongService.getAllThuePhongs());
            }
            
        }

    }//GEN-LAST:event_suaSVTPButtonActionPerformed

    private void themKyLuatButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_themKyLuatButtonActionPerformed
        // TODO add your handling code here:
        listKL = kyLuatService.getAllKyLuats();
        if (listKL.size() == 0) {
            maPhieuKLTF.setText("" + 1);
        } else {
            int maPhieu = listKL.get(listKL.size() - 1).getMaPhieu() + 1;
            maPhieuKLTF.setText("" + maPhieu);
        }
        maQLKLTF.setText(maQL);
        refreshKLButtonActionPerformed(evt);
        luuLaiKLButton.setVisible(true);

    }//GEN-LAST:event_themKyLuatButtonActionPerformed

    private void suaKLButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_suaKLButtonActionPerformed
        // TODO add your handling code here:
        int row = kyLuatTable.getSelectedRow();
        if (row == -1) {
            JOptionPane.showMessageDialog(rootPane, "Vui lòng chọn phiếu kỷ luật để sửa");
        } else {
            int confirm = JOptionPane.showConfirmDialog(rootPane, "Bạn có chắc chắn sửa không?");
            if (confirm == JOptionPane.YES_OPTION) {
                int maPhieu = Integer.parseInt(String.valueOf(kyLuatTable.getValueAt(row, 0)));
                String hinhThucPhat = hinhThucPhatKLTA.getText();
                String noiDung = noiDungKLTA.getText();
                Date ngayViPham = ngayViPhamDC.getDate();
                kL = new KyLuat();
                kL.setMaPhieu(maPhieu);
                kL.setHinhThucPhat(hinhThucPhat);
                kL.setNoiDung(noiDung);
                kL.setNgayViPham(ngayViPham);
                
                kyLuatService.updateKyLuat(kL);
                setDataKL(kyLuatService.getAllKyLuats());
            }
        }
    }//GEN-LAST:event_suaKLButtonActionPerformed

    private void kyLuatTableMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_kyLuatTableMouseClicked
        // TODO add your handling code here:
        int row = kyLuatTable.getSelectedRow();
        if (row == -1) {
            JOptionPane.showMessageDialog(rootPane, "Vui lòng chọn phiếu kỷ luật");
        } else {
            
            int maPhieu = Integer.parseInt(String.valueOf(kyLuatTable.getValueAt(row, 0)));
            kL = kyLuatService.getKyLuatByMaPhieu(maPhieu);
            maPhieuKLTF.setText("" + kL.getMaPhieu());
            loaiKLCbb.setSelectedItem(kL.getLoaiKL());
            ngayViPhamDC.setDate(kL.getNgayViPham());
            noiDungKLTA.setText(kL.getNoiDung());
            hinhThucPhatKLTA.setText(kL.getHinhThucPhat());
            maSVKLTF.setText(kL.getMaSV());
            maQLKLTF.setText(kL.getMaQL());
            luuLaiKLButton.setVisible(false);
        }
    }//GEN-LAST:event_kyLuatTableMouseClicked

    private void luuLaiKLButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_luuLaiKLButtonActionPerformed
        // TODO add your handling code here:
        int confirm = JOptionPane.showConfirmDialog(rootPane, "Bạn có chắc chắn muốn thêm không?");
        if (confirm == JOptionPane.YES_OPTION) {
            String maSV = maSVKLTF.getText();
            int maPhieu = Integer.parseInt(maPhieuKLTF.getText());
            String loaiKL = loaiKLCbb.getSelectedItem().toString();
            String noiDung = noiDungKLTA.getText();
            String hinhThucPhat = hinhThucPhatKLTA.getText();
            String maQL = maQLKLTF.getText();
            Date ngayViPham = ngayViPhamDC.getDate();
            boolean isTrue = false;
            listSV = sinhVienService.getAllSinhViens();
            for (SinhVien sV : listSV) {
                if (sV.getMaSV().equalsIgnoreCase(maSV)) {
                    if (sV.getNgayVao().before(ngayViPham)) {
                        isTrue = true;
                        sV.setSoLanViPham(sV.getSoLanViPham() + 1);
                        sinhVienService.updateSinhVien(sV);
                    }
                }
            };
            if (isTrue) {
                kL = new KyLuat();
                kL.setMaPhieu(maPhieu);
                kL.setLoaiKL(loaiKL);
                kL.setNoiDung(noiDung);
                kL.setHinhThucPhat(hinhThucPhat);
                kL.setMaSV(maSV);
                kL.setMaQL(maQL);
                kL.setNgayViPham(ngayViPham);
                
                kyLuatService.insertKyLuat(kL);
                refreshKLButtonActionPerformed(evt);
            } else {
                JOptionPane.showMessageDialog(rootPane, "Ngày vi phạm không được trước ngày vào của sinh viên");
            }
            
        }
    }//GEN-LAST:event_luuLaiKLButtonActionPerformed

    private void refreshKLButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_refreshKLButtonActionPerformed
        // TODO add your handling code here:
        maSVKLTF.setText("");
        noiDungKLTA.setText("");
        hinhThucPhatKLTA.setText("");
        luuLaiKLButton.setVisible(false);
        
        setDataKL(kyLuatService.getAllKyLuats());
    }//GEN-LAST:event_refreshKLButtonActionPerformed

    private void maSVKLTFFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_maSVKLTFFocusLost
        // TODO add your handling code here:
        String maSV = maSVKLTF.getText();
        boolean isTrue = false;
        listSV = sinhVienService.getAllSinhViens();
        for (SinhVien sV : listSV) {
            if (sV.getMaSV().equalsIgnoreCase(maSV)) {
                isTrue = true;
            }
        }
        if (!isTrue) {
            JOptionPane.showMessageDialog(rootPane, "Sinh viên này không tồn tại trong KTX", "Thông báo", JOptionPane.ERROR_MESSAGE);
            maSVKLTF.setText("");
        }
    }//GEN-LAST:event_maSVKLTFFocusLost

    private void chuyenPhongButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chuyenPhongButtonActionPerformed
        // TODO add your handling code here:
        refreshCPButtonActionPerformed(evt);
        listCP = chuyenPhongService.getAllChuyenPhongs();
        if (listCP.size() == 0) {
            maPhieuCPTF.setText("" + 1);
        } else {
            maPhieuCPTF.setText("" + (listCP.get(listCP.size() - 1).getMaPhieu() + 1));
        }
        maQLCPTF.setText(maQL);
        luuLaiCPButton.setVisible(true);

    }//GEN-LAST:event_chuyenPhongButtonActionPerformed

    private void luuLaiCPButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_luuLaiCPButtonActionPerformed
        // TODO add your handling code here:
        int confirm = JOptionPane.showConfirmDialog(rootPane, "Bạn có chắc chắn chuyển phòng không?");
        if (confirm == JOptionPane.YES_OPTION) {
            String maSV = maSVCPFT.getText();
            listSV = sinhVienService.getAllSinhViens();
            listPhong = phongService.getAllPhongs();
            
            boolean isTrue = false;
            for (SinhVien sv : listSV) {
                if (sv.getMaSV().equalsIgnoreCase(maSV)) {
                    isTrue = true;
                }
            }
            if (!isTrue) {
                JOptionPane.showMessageDialog(rootPane, "Sinh viên này không tồn tại trong KTX", "Thông báo lỗi", JOptionPane.ERROR_MESSAGE);
            } else {
                cP = new ChuyenPhong();
                cP.setMaPhieu(Integer.parseInt(maPhieuCPTF.getText()));
                cP.setNgayChuyen(ngayChuyenDC.getDate());
                cP.setMaQL(maQLCPTF.getText());
                cP.setMaSV(maSV);
                int maPhongCu = Integer.parseInt(maPhongCuTF.getText());
                cP.setMaPhongCu(maPhongCu);
                int maPhongMoi = Integer.parseInt(String.valueOf(maPhongMoiCbb.getSelectedItem()));
                cP.setMaPhongMoi(maPhongMoi);
                cP.setLiDo(liDoCPTA.getText());
                
                chuyenPhongService.insertChuyenPhong(cP);

//                Đổi mã phòng trong sinh viên:
                for (SinhVien sv : listSV) {
                    if (sv.getMaSV().equalsIgnoreCase(maSV)) {
                        sv.setMaPhong(maPhongMoi);
                        sinhVienService.updateSinhVien(sv);
                    }
                }
//                Tăng giảm người trong phòng
                for (Phong p : listPhong) {
                    if (p.getMaPhong() == maPhongCu) {
                        p.setSoNguoi(p.getSoNguoi() - 1);
                        phongService.updatePhong(p);
                    }
                    if (p.getMaPhong() == maPhongMoi) {
                        p.setSoNguoi(p.getSoNguoi() + 1);
                        phongService.updatePhong(p);
                    }
                }
                refreshCPButtonActionPerformed(evt);
                
            }
            
        }
    }//GEN-LAST:event_luuLaiCPButtonActionPerformed

    private void refreshCPButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_refreshCPButtonActionPerformed
        // TODO add your handling code here:
        maSVCPFT.setText("");
        maSVCPFT.setEditable(true);
        maPhongCuTF.setText("");
        maPhongMoiCbb.setSelectedIndex(0);
        liDoCPTA.setText("");
        
        luuLaiCPButton.setVisible(false);
        setDataCP(chuyenPhongService.getAllChuyenPhongs());
        
        maPhongMoiCbb.removeAllItems();
        phongService.getAllPhongs().forEach(p -> {
            if (p.getTrangThai().equalsIgnoreCase("Còn trống")) {
                maPhongMoiCbb.addItem(p.getMaPhong());
            }
        });
    }//GEN-LAST:event_refreshCPButtonActionPerformed

    private void suaCPButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_suaCPButtonActionPerformed
        // TODO add your handling code here:
        int confirm = JOptionPane.showConfirmDialog(rootPane, "Bạn có chắc chắn sửa không?");
        if (confirm == JOptionPane.YES_OPTION) {
            int maPhieu = Integer.parseInt(maPhieuCPTF.getText());
            Date ngayChuyen = ngayChuyenDC.getDate();
            String liDo = liDoCPTA.getText();
            
            listCP = chuyenPhongService.getAllChuyenPhongs();
            for (ChuyenPhong cP : listCP) {
                if (cP.getMaPhieu() == maPhieu) {
                    cP.setNgayChuyen(ngayChuyen);
                    cP.setLiDo(liDo);
                    chuyenPhongService.updateChuyenPhong(cP);
                }
            }
            setDataCP(chuyenPhongService.getAllChuyenPhongs());
        }
    }//GEN-LAST:event_suaCPButtonActionPerformed

    private void chuyenPhongTableMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_chuyenPhongTableMouseClicked
        // TODO add your handling code here:
        int row = chuyenPhongTable.getSelectedRow();
        if (row == -1) {
            JOptionPane.showMessageDialog(rootPane, "Vui lòng chọn!");
        } else {
            int maPhieu = Integer.parseInt(String.valueOf(chuyenPhongTable.getValueAt(row, 0)));
            cP = chuyenPhongService.getChuyenPhongByMaPhieu(maPhieu);
            
            maPhieuCPTF.setText("" + cP.getMaPhieu());
            ngayChuyenDC.setDate(cP.getNgayChuyen());
            maQLCPTF.setText(cP.getMaQL());
            maSVCPFT.setText(cP.getMaSV());
            maPhongCuTF.setText("" + cP.getMaPhongCu());
            maPhongMoiCbb.setSelectedItem(cP.getMaPhongMoi());
            liDoCPTA.setText(cP.getLiDo());
            maSVCPFT.setEditable(false);
            luuLaiCPButton.setVisible(false);
        }
    }//GEN-LAST:event_chuyenPhongTableMouseClicked

    private void maSVCPFTFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_maSVCPFTFocusLost
        // TODO add your handling code here:
        String maSV = maSVCPFT.getText();
        int maPhongCu = 0;
        listSV = sinhVienService.getAllSinhViens();
        
        boolean isTrue = false;
        for (SinhVien sv : listSV) {
            if (sv.getMaSV().equalsIgnoreCase(maSV)) {
                maPhongCu = sv.getMaPhong();
                isTrue = true;
            }
        }
        if (!isTrue) {
            JOptionPane.showMessageDialog(rootPane, "Sinh viên này không tồn tại trong KTX", "Thông báo lỗi", JOptionPane.ERROR_MESSAGE);
            maSVCPFT.setText("");
        } else {
            maPhongCuTF.setText("" + maPhongCu);
            maPhongMoiCbb.removeItem(maPhongCu);
        }
    }//GEN-LAST:event_maSVCPFTFocusLost

    private void traPhongTableMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_traPhongTableMouseClicked
        // TODO add your handling code here:
        int row = traPhongTable.getSelectedRow();
        if (row == -1) {
            JOptionPane.showMessageDialog(rootPane, "Vui lòng chọn trường");
        } else {
            int maPhieu = Integer.parseInt(String.valueOf(traPhongTable.getValueAt(row, 0)));
            traP = new TraPhong();
            traP = traPhongService.getTraPByMaPhieu(maPhieu);
            maPhieuTraPTF.setText("" + traP.getMaPhieu());
            ngayTraDC.setDate(traP.getNgayTra());
            maQLTraPTF.setText(traP.getMaQL());
            maSVTraPFT.setText(traP.getMaSV());
            maPhongTraPTF.setText("" + traP.getMaPhong());
            liDoTraPTA.setText(traP.getLiDo());
            maSVTraPFT.setEditable(false);
            luuLaiTraPButton.setVisible(false);
        }
    }//GEN-LAST:event_traPhongTableMouseClicked

    private void traPhongButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_traPhongButtonActionPerformed
        // TODO add your handling code here:
        refreshTraPButtonActionPerformed(evt);
        listTraP = traPhongService.getAlLTraPhongs();
        if (listTraP.size() == 0) {
            maPhieuTraPTF.setText("" + 1);
        } else {
            maPhieuTraPTF.setText("" + (listTraP.get(listTraP.size() - 1).getMaPhieu() + 1));
        }
        maQLTraPTF.setText(maQL);
        luuLaiTraPButton.setVisible(true);
    }//GEN-LAST:event_traPhongButtonActionPerformed

    private void refreshTraPButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_refreshTraPButtonActionPerformed
        // TODO add your handling code here:
        maPhieuTraPTF.setText("");
        maQLTraPTF.setText("");
        maSVTraPFT.setText("");
        maPhongTraPTF.setText("");
        liDoTraPTA.setText("");
        
        luuLaiTraPButton.setVisible(false);
        setDataTraP(traPhongService.getAlLTraPhongs());
        maSVTraPFT.setEditable(true);
    }//GEN-LAST:event_refreshTraPButtonActionPerformed

    private void luuLaiTraPButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_luuLaiTraPButtonActionPerformed
        // TODO add your handling code here:
        int confirm = JOptionPane.showConfirmDialog(rootPane, "Bạn có chắc chắn trả phòng không?");
        if (confirm == JOptionPane.YES_OPTION) {
            String maSV = maSVTraPFT.getText();
            listSV = sinhVienService.getAllSinhViens();
            listPhong = phongService.getAllPhongs();
            
            boolean isTrue = false;
            for (SinhVien sv : listSV) {
                if (sv.getMaSV().equalsIgnoreCase(maSV)) {
                    isTrue = true;
                }
            }
            
            if (!isTrue) {
                JOptionPane.showMessageDialog(rootPane, "Sinh viên này không tồn tại trong KTX!");
            } else {
                int maPhieu = Integer.parseInt(maPhieuTraPTF.getText());
                Date ngayTra = ngayTraDC.getDate();
                int maPhongTra = Integer.parseInt(maPhongTraPTF.getText());
                String liDo = liDoTraPTA.getText();
                
                traP = new TraPhong();
                
                traP.setMaPhieu(maPhieu);
                traP.setMaSV(maSV);
                traP.setMaPhong(maPhongTra);
                traP.setMaQL(maQL);
                traP.setNgayTra(ngayTra);
                traP.setLiDo(liDo);
                
                traPhongService.insertTraPhong(traP);
                refreshTraPButtonActionPerformed(evt);

//                Xét trạng thái đã trả cho sinh viên
                for (SinhVien sv : listSV) {
                    if (sv.getMaSV().equalsIgnoreCase(maSV)) {
                        sv.setTrangThai("Đã trả");
                        sinhVienService.updateSinhVien(sv);
                    }
                }

//                Giảm số lượng trong phòng
                for (Phong p : listPhong) {
                    if (p.getMaPhong() == maPhongTra) {
                        p.setSoNguoi(p.getSoNguoi() - 1);
                        phongService.updatePhong(p);
                    }
                }
            }
            
        }
    }//GEN-LAST:event_luuLaiTraPButtonActionPerformed

    private void maSVTraPFTFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_maSVTraPFTFocusLost
        // TODO add your handling code here:
        String maSV = maSVTraPFT.getText();
        int maPhongTra = 0;
        listSV = sinhVienService.getAllSinhViens();
        
        boolean isTrue = false;
        for (SinhVien sv : listSV) {
            if (sv.getMaSV().equalsIgnoreCase(maSV)) {
                maPhongTra = sv.getMaPhong();
                isTrue = true;
            }
        }
        if (!isTrue) {
            JOptionPane.showMessageDialog(rootPane, "Sinh viên này không tồn tại trong KTX", "Thông báo lỗi", JOptionPane.ERROR_MESSAGE);
            maSVTraPFT.setText("");
        } else {
            maPhongTraPTF.setText("" + maPhongTra);
        }
    }//GEN-LAST:event_maSVTraPFTFocusLost

    private void searchSVButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_searchSVButtonActionPerformed
        // TODO add your handling code here:
        refreshSVButtonActionPerformed(evt);
        setVisibleSearch(true);
        maSVFT.setEditable(true);
    }//GEN-LAST:event_searchSVButtonActionPerformed

    private void searchSV1ButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_searchSV1ButtonActionPerformed
        // TODO add your handling code here:
        String sql = "SELECT * FROM SINHVIEN WHERE ";
        if (hoTenRb.isSelected()) {
            String ten = hoTenSVTF.getText();
            sql += "HOTEN LIKE N'%" + ten + "'";
        } else if (maSVRb.isSelected()) {
            String maSV = maSVFT.getText();
            sql += "MASV = N'" + maSV + "'";
        }
        if (nganhCb.isSelected()) {
            String nganh = nganhSVCbb.getSelectedItem().toString();
            sql += " AND NGANH = N'" + nganh + "'";
        }
        if (khoaCb.isSelected()) {
            String khoa = khoaSVCbb.getSelectedItem().toString();
            sql += " AND KHOA = N'" + khoa + "'";
        }
        listSV = sinhVienService.searchSinhVien(sql);
        
        int dem = 0;
        for (SinhVien sV : listSV) {
            if (sV.getTrangThai().equalsIgnoreCase("đang thuê")) {
                dem += 1;
            }
        }
        danhSachSVLabel.setText("Danh sách gồm " + dem + " sinh viên");
        
        setDataSV(listSV);
    }//GEN-LAST:event_searchSV1ButtonActionPerformed
    

    private void refreshSVButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_refreshSVButtonActionPerformed
        // TODO add your handling code here:
        maSVFT.setText("");
        maSVFT.setEditable(false);
        hoTenSVTF.setText("");
        sdtSVTF.setText("");
        diaChiSVTF.setText("");
        maPhongSVTF.setText("");
        soLanViPhamSVTF.setText("");
        trangThaiSVTF.setText("");
        searchSV1Button.setVisible(false);
        setVisibleSearch(false);
        
        setDataSV(sinhVienService.getAllSinhViens());
    }//GEN-LAST:event_refreshSVButtonActionPerformed

    private void chuyenPhongSVButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chuyenPhongSVButtonActionPerformed
        // TODO add your handling code here:
        int row = sinhVienTable.getSelectedRow();
        if (row == -1) {
            JOptionPane.showMessageDialog(rootPane, "Vui lòng chọn sinh viên");
        } else {
            String maSV = String.valueOf(sinhVienTable.getValueAt(row, 0));
            int maPhong = Integer.parseInt(String.valueOf(sinhVienTable.getValueAt(row, 10)));
            changeTabMenu(chuyenPhongPanel);
            maPhongMoiCbb.removeAllItems();
            phongService.getAllPhongs().forEach(p -> {
                if (p.getTrangThai().equalsIgnoreCase("Còn trống")) {
                    maPhongMoiCbb.addItem(p.getMaPhong());
                }
            });
            chuyenPhongButtonActionPerformed(evt);
            maSVCPFT.setText(maSV);
            maPhongCuTF.setText("" + maPhong);
        }

    }//GEN-LAST:event_chuyenPhongSVButtonActionPerformed

    private void traPhongSVButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_traPhongSVButtonActionPerformed
        // TODO add your handling code here:
        int row = sinhVienTable.getSelectedRow();
        if (row == -1) {
            JOptionPane.showMessageDialog(rootPane, "Vui lòng chọn sinh viên");
        } else {
            String maSV = String.valueOf(sinhVienTable.getValueAt(row, 0));
            int maPhong = Integer.parseInt(String.valueOf(sinhVienTable.getValueAt(row, 10)));
            changeTabMenu(traPhongPanel);
            
            traPhongButtonActionPerformed(evt);
            maSVTraPFT.setText(maSV);
            maPhongTraPTF.setText("" + maPhong);
        }
    }//GEN-LAST:event_traPhongSVButtonActionPerformed

    private void kyLuatSVButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_kyLuatSVButtonActionPerformed
        // TODO add your handling code here:
        int row = sinhVienTable.getSelectedRow();
        if (row == -1) {
            JOptionPane.showMessageDialog(rootPane, "Vui lòng chọn sinh viên");
        } else {
            String maSV = String.valueOf(sinhVienTable.getValueAt(row, 0));
            changeTabMenu(kyLuatPanel);
            
            loaiKLCbb.removeAllItems();
            listQL = quanLyService.getAllQuanLys();
            listQL.forEach(qL -> {
                loaiKLCbb.addItem(qL.getPhuTrach());
            });
            
            themKyLuatButtonActionPerformed(evt);
            maSVKLTF.setText(maSV);
        }
    }//GEN-LAST:event_kyLuatSVButtonActionPerformed

    private void xuatFileSVButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_xuatFileSVButtonActionPerformed
        int confirm = JOptionPane.showConfirmDialog(rootPane, "Bạn có muốn xuất file danh sách sinh viên không?");
        if (confirm == JOptionPane.YES_OPTION) {
            try {
                XSSFWorkbook wb = new XSSFWorkbook();
                XSSFSheet sheet = wb.createSheet("SinhVien");
                XSSFRow row;
                XSSFCell cell0;
                XSSFCell cell1;
                XSSFCell cell2;
                XSSFCell cell3;
                XSSFCell cell4;
                XSSFCell cell5;
                XSSFCell cell6;
                XSSFCell cell7;
                XSSFCell cell8;
                XSSFCell cell9;
                XSSFCell cell10;
                XSSFCell cell11;
                XSSFCell cell12;
                XSSFCell cell13;
//                Font font = wb.createFont();
//                font.setBold(true);
//                CellStyle cellStyle = wb.createCellStyle();
//                cellStyle.setFont(font);
                
                row = sheet.createRow(1);
                row.createCell(0).setCellValue("STT");
//                row.createCell(0).setCellStyle(cellStyle);
                
                row.createCell(1).setCellValue("Mã SV");
                row.createCell(2).setCellValue("Ảnh");
                row.createCell(3).setCellValue("Họ Tên");
                row.createCell(4).setCellValue("SDT");
                row.createCell(5).setCellValue("Giới Tính");
                row.createCell(6).setCellValue("Địa Chỉ");
                row.createCell(7).setCellValue("Ngày Sinh");
                row.createCell(8).setCellValue("Ngành");
                row.createCell(9).setCellValue("Khoá");
                row.createCell(10).setCellValue("Ngày Vào");
                row.createCell(11).setCellValue("Mã Phòng");
                row.createCell(12).setCellValue("Số Lần Vi Phạm");
                row.createCell(13).setCellValue("Trạng Thái");
//                

                listSV = sinhVienService.getAllSinhViens();
                for (int i = 1; i < listSV.size(); i++) {
                    row = sheet.createRow(i + 1);
                    row.createCell(0).setCellValue(i + 1);
                    row.createCell(1).setCellValue(listSV.get(i).getMaSV());
                    row.createCell(2).setCellValue(listSV.get(i).getAnh());
                    row.createCell(3).setCellValue(listSV.get(i).getHoTen());
                    row.createCell(4).setCellValue(listSV.get(i).getSdt());
                    row.createCell(5).setCellValue(listSV.get(i).getGioiTinh());
                    row.createCell(6).setCellValue(listSV.get(i).getDiaChi());
                    row.createCell(7).setCellValue(String.valueOf(listSV.get(i).getNgaySinh()));
                    row.createCell(8).setCellValue(listSV.get(i).getNganh());
                    row.createCell(9).setCellValue(listSV.get(i).getKhoa());
                    row.createCell(10).setCellValue(String.valueOf(listSV.get(i).getNgayVao()));
                    row.createCell(11).setCellValue(listSV.get(i).getMaPhong());
                    row.createCell(12).setCellValue(listSV.get(i).getSoLanViPham());
                    row.createCell(13).setCellValue(listSV.get(i).getTrangThai());
                }
                
                FileOutputStream file = new FileOutputStream("DanhSachSinhVien.xlsx");
                wb.write(file);
                JOptionPane.showMessageDialog(rootPane, "Xuất file thành công!");
                wb.close();
                file.close();
            } catch (FileNotFoundException ex) {
                ex.printStackTrace();
            } catch (IOException ex) {
                ex.printStackTrace();
            }
        }
    }//GEN-LAST:event_xuatFileSVButtonActionPerformed

    private void taiKhoanMenuMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_taiKhoanMenuMouseClicked
        // TODO add your handling code here:
        new TaiKhoanJframe(maQL).setVisible(true);
    }//GEN-LAST:event_taiKhoanMenuMouseClicked

    private void thongKeKLButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_thongKeKLButtonActionPerformed
        // TODO add your handling code here:
        new thongKeKLJframe().setVisible(true);
    }//GEN-LAST:event_thongKeKLButtonActionPerformed

    private void choThueLaiButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_choThueLaiButtonActionPerformed
        // TODO add your handling code here:
        int maPhieu = Integer.parseInt(maPhieuTPTF.getText());
        String maQL = maQLTPTF.getText();
        String maSV = maSVTPFT.getText();
        int maPhong = Integer.parseInt(String.valueOf(maPhongTPCbb.getSelectedItem()));
        Date ngayVao = ngayVaoSVTPDC.getDate();
//        Thuê Phòng:
        tP = new ThuePhong(maPhieu, maPhong, maSV, maQL, "BT", ngayVao);
        thuePhongService.insertThuePhong(tP);
        setDataTP(thuePhongService.getAllThuePhongs());
//        Sinh Viên
        listSV = sinhVienService.getAllSinhViens();
        for (SinhVien sV : listSV) {
            if (sV.getMaSV().equalsIgnoreCase(maSV)) {
                sV.setMaSV(maSV);
                sV.setMaPhong(maPhong);
                sV.setNgayVao(ngayVao);
                sV.setTrangThai("Đang Thuê");
                sinhVienService.updateSinhVien(sV);
            }
        }
//        Phòng:
        listPhong = phongService.getAllPhongs();
        for (Phong p : listPhong) {
            if (p.getMaPhong() == maPhong) {
                p.setSoNguoi(p.getSoNguoi() + 1);
                phongService.updatePhong(p);
            }
        }
        refreshSVTPButtonActionPerformed(evt);
    }//GEN-LAST:event_choThueLaiButtonActionPerformed

    private void thangTKCbbActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_thangTKCbbActionPerformed
        // TODO add your handling code here:
        int thang = thangTKCbb.getSelectedIndex() + 1;
        String sql = "SELECT COUNT(MASV) AS SOSV, NGAYVAO FROM THUEPHONG WHERE MONTH(NGAYVAO) = " + thang
                + "	GROUP BY NGAYVAO";
        String sqlKL = "SELECT COUNT(MASV) AS SOSV, NGAYVIPHAM FROM KYLUAT WHERE MONTH(NGAYVIPHAM) = " + thang
                + "	GROUP BY NGAYVIPHAM";
        thongKeThuePhong(sql);
        thongKeKyLuat(sqlKL);
    }//GEN-LAST:event_thangTKCbbActionPerformed

    private void namTKCbbActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_namTKCbbActionPerformed
        // TODO add your handling code here:
        int nam = Integer.parseInt(String.valueOf(namTKCbb.getSelectedItem()));
        String sql = "SELECT COUNT(MASV) AS SOSV, NGAYVAO FROM THUEPHONG WHERE YEAR(NGAYVAO) = " + nam
                + "	GROUP BY NGAYVAO";
        String sqlKL = "SELECT COUNT(MASV) AS SOSV, NGAYVIPHAM FROM KYLUAT WHERE YEAR(NGAYVIPHAM) = " + nam
                + "	GROUP BY NGAYVIPHAM";
        thongKeThuePhong(sql);
        thongKeKyLuat(sqlKL);
    }//GEN-LAST:event_namTKCbbActionPerformed

    private void suaTraPButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_suaTraPButtonActionPerformed
        // TODO add your handling code here:
        int confirm = JOptionPane.showConfirmDialog(rootPane, "Bạn có chắc chắn sửa không?");
        if (confirm == JOptionPane.YES_OPTION) {
            int maPhieu = Integer.parseInt(maPhieuTraPTF.getText());
            Date ngayTra = ngayTraDC.getDate();
            String liDoTra = liDoTraPTA.getText();
            
            listTraP = traPhongService.getAlLTraPhongs();
            for (TraPhong traP : listTraP) {
                if (traP.getMaPhieu() == maPhieu) {
                    traP.setNgayTra(ngayTra);
                    traP.setLiDo(liDoTra);
                    traPhongService.updateTraPhong(traP);
                }
            }
        }
        setDataTraP(traPhongService.getAlLTraPhongs());
    }//GEN-LAST:event_suaTraPButtonActionPerformed

    private void thuePhongMenuMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_thuePhongMenuMouseClicked
        // TODO add your handling code here:
        
    }//GEN-LAST:event_thuePhongMenuMouseClicked

    private void chuyenPhongMenuMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_chuyenPhongMenuMouseClicked
        // TODO add your handling code here:
        
    }//GEN-LAST:event_chuyenPhongMenuMouseClicked

    private void traPhongMenuMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_traPhongMenuMouseClicked
        // TODO add your handling code here:
        
    }//GEN-LAST:event_traPhongMenuMouseClicked

    private void traPhongMenuActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_traPhongMenuActionPerformed
        // TODO add your handling code here:
        changeTabMenu(traPhongPanel);
        maQLTraPTF.setText(maQL);
    }//GEN-LAST:event_traPhongMenuActionPerformed

    private void thuePhongMenuActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_thuePhongMenuActionPerformed
        // TODO add your handling code here:
        changeTabMenu(thuePhongPanel);
        
        maPhongTPCbb.removeAllItems();
        phongService.getAllPhongs().forEach(p -> {
            if (p.getTrangThai().equalsIgnoreCase("Còn trống")) {
                maPhongTPCbb.addItem(p.getMaPhong());
            }
        });
        
        listTP = thuePhongService.getAllThuePhongs();
        if (listTP.size() == 0) {
            maPhieuTPTF.setText("" + 1);
        } else {
            maPhieuTPTF.setText("" + (listTP.get(listTP.size() - 1).getMaPhieu() + 1));
        }
        
        maQLTPTF.setText(maQL);
        
        setDataTP(thuePhongService.getAllThuePhongs());
    }//GEN-LAST:event_thuePhongMenuActionPerformed

    private void chuyenPhongMenuActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chuyenPhongMenuActionPerformed
        // TODO add your handling code here:
        changeTabMenu(chuyenPhongPanel);
        maQLCPTF.setText(maQL);
        maPhongMoiCbb.removeAllItems();
        phongService.getAllPhongs().forEach(p -> {
            if (p.getTrangThai().equalsIgnoreCase("Còn trống")) {
                maPhongMoiCbb.addItem(p.getMaPhong());
            }
        });
        
    }//GEN-LAST:event_chuyenPhongMenuActionPerformed

    private void thuTienMenuMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_thuTienMenuMouseClicked
        // TODO add your handling code here:
        new TinhTienJframe().setVisible(true);
    }//GEN-LAST:event_thuTienMenuMouseClicked

    private void qLThietBiButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_qLThietBiButtonActionPerformed
        // TODO add your handling code here:
        new ThietBiPhongJframe(maQL).setVisible(true);
    }//GEN-LAST:event_qLThietBiButtonActionPerformed

    private void qLTaiKhoanMenuMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_qLTaiKhoanMenuMouseClicked
        // TODO add your handling code here:
        new QuanLyTaiKhoanJframe().setVisible(true);
    }//GEN-LAST:event_qLTaiKhoanMenuMouseClicked

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        // TODO add your handling code here:
        new FormLoginJframe().setVisible(true);
        this.dispose();
    }//GEN-LAST:event_jButton1ActionPerformed

    private void quanLyKyLuatLabelMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_quanLyKyLuatLabelMouseClicked
        // TODO add your handling code here:
        kyLuatMenuMouseClicked(evt);
    }//GEN-LAST:event_quanLyKyLuatLabelMouseClicked

    private void quanLyPhongLabelMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_quanLyPhongLabelMouseClicked
        // TODO add your handling code here:
        phongMenuMouseClicked(evt);
    }//GEN-LAST:event_quanLyPhongLabelMouseClicked

    private void quanLyCPLabelMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_quanLyCPLabelMouseClicked
        // TODO add your handling code here:
        chuyenPhongMenuMouseClicked(evt);
    }//GEN-LAST:event_quanLyCPLabelMouseClicked

    private void quanLyTraPLabelMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_quanLyTraPLabelMouseClicked
        // TODO add your handling code here:
        traPhongMenuMouseClicked(evt);
    }//GEN-LAST:event_quanLyTraPLabelMouseClicked

    private void quanLyTPLabelMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_quanLyTPLabelMouseClicked
        // TODO add your handling code here:
        thuePhongMenuMouseClicked(evt);
    }//GEN-LAST:event_quanLyTPLabelMouseClicked

    private void quanLySVLabelMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_quanLySVLabelMouseClicked
        // TODO add your handling code here:
        sinhVienMenuMouseClicked(evt);
    }//GEN-LAST:event_quanLySVLabelMouseClicked

    /**
     * @param args the command line arguments
     */

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JPanel TKKyLuatPanel;
    private javax.swing.JPanel TKPhongPanel;
    private javax.swing.JPanel TKThuePhongPanel;
    private javax.swing.JLabel anhSVLabel;
    private javax.swing.JLabel anhSVTPLabel;
    private javax.swing.JButton choThueLaiButton;
    private javax.swing.JButton chonAnhSVButton;
    private javax.swing.JButton chonAnhSVTPButton;
    private javax.swing.JToggleButton chuyenPhongButton;
    private javax.swing.JMenuItem chuyenPhongMenu;
    private javax.swing.JPanel chuyenPhongPanel;
    private javax.swing.JButton chuyenPhongSVButton;
    private javax.swing.JTable chuyenPhongTable;
    private javax.swing.JLabel danhSachSVLabel;
    private javax.swing.JTextField diaChiSVTF;
    private javax.swing.JTextField diaChiSVTPTF;
    private javax.swing.JFormattedTextField giaTienFT;
    private javax.swing.ButtonGroup gioiTinhButtonGroup;
    private javax.swing.JMenu heThongMenu;
    private javax.swing.JPanel heThongPanel;
    private javax.swing.JTextArea hinhThucPhatKLTA;
    private javax.swing.JRadioButton hoTenRb;
    private javax.swing.JTextField hoTenSVTF;
    private javax.swing.JTextField hoTenSVTPTF;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton10;
    private javax.swing.JButton jButton13;
    private javax.swing.JButton jButton15;
    private javax.swing.JButton jButton16;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton6;
    private javax.swing.JButton jButton7;
    private javax.swing.JButton jButton8;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel107;
    private javax.swing.JLabel jLabel108;
    private javax.swing.JLabel jLabel109;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel110;
    private javax.swing.JLabel jLabel112;
    private javax.swing.JLabel jLabel113;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel34;
    private javax.swing.JLabel jLabel35;
    private javax.swing.JLabel jLabel36;
    private javax.swing.JLabel jLabel37;
    private javax.swing.JLabel jLabel38;
    private javax.swing.JLabel jLabel39;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel40;
    private javax.swing.JLabel jLabel41;
    private javax.swing.JLabel jLabel42;
    private javax.swing.JLabel jLabel43;
    private javax.swing.JLabel jLabel44;
    private javax.swing.JLabel jLabel45;
    private javax.swing.JLabel jLabel46;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JMenuBar jMenuBar1;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel10;
    private javax.swing.JPanel jPanel11;
    private javax.swing.JPanel jPanel12;
    private javax.swing.JPanel jPanel13;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel23;
    private javax.swing.JPanel jPanel24;
    private javax.swing.JPanel jPanel25;
    private javax.swing.JPanel jPanel26;
    private javax.swing.JPanel jPanel27;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel30;
    private javax.swing.JPanel jPanel31;
    private javax.swing.JPanel jPanel32;
    private javax.swing.JPanel jPanel33;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane18;
    private javax.swing.JScrollPane jScrollPane19;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JScrollPane jScrollPane6;
    private javax.swing.JScrollPane jScrollPane7;
    private javax.swing.JScrollPane jScrollPane8;
    private javax.swing.JToolBar.Separator jSeparator1;
    private javax.swing.JToolBar.Separator jSeparator10;
    private javax.swing.JToolBar.Separator jSeparator11;
    private javax.swing.JSeparator jSeparator13;
    private javax.swing.JSeparator jSeparator14;
    private javax.swing.JSeparator jSeparator15;
    private javax.swing.JToolBar.Separator jSeparator16;
    private javax.swing.JToolBar.Separator jSeparator17;
    private javax.swing.JSeparator jSeparator18;
    private javax.swing.JSeparator jSeparator19;
    private javax.swing.JToolBar.Separator jSeparator2;
    private javax.swing.JSeparator jSeparator20;
    private javax.swing.JToolBar.Separator jSeparator21;
    private javax.swing.JSeparator jSeparator22;
    private javax.swing.JSeparator jSeparator23;
    private javax.swing.JSeparator jSeparator24;
    private javax.swing.JSeparator jSeparator25;
    private javax.swing.JSeparator jSeparator26;
    private javax.swing.JToolBar.Separator jSeparator27;
    private javax.swing.JToolBar.Separator jSeparator28;
    private javax.swing.JToolBar.Separator jSeparator29;
    private javax.swing.JToolBar.Separator jSeparator3;
    private javax.swing.JToolBar.Separator jSeparator4;
    private javax.swing.JSeparator jSeparator5;
    private javax.swing.JSeparator jSeparator6;
    private javax.swing.JSeparator jSeparator7;
    private javax.swing.JSeparator jSeparator9;
    private javax.swing.JToolBar jToolBar1;
    private javax.swing.JToolBar jToolBar2;
    private javax.swing.JToolBar jToolBar3;
    private javax.swing.JToolBar jToolBar4;
    private javax.swing.JToolBar jToolBar5;
    private javax.swing.JToolBar jToolBar6;
    private javax.swing.JCheckBox khoaCb;
    private javax.swing.JComboBox<String> khoaSVCbb;
    private javax.swing.JComboBox<String> khoaSVTPCbb;
    private javax.swing.JMenu kyLuatMenu;
    private javax.swing.JPanel kyLuatPanel;
    private javax.swing.JButton kyLuatSVButton;
    private javax.swing.JTable kyLuatTable;
    private javax.swing.JTextArea liDoCPTA;
    private javax.swing.JTextArea liDoTraPTA;
    private javax.swing.JComboBox<String> loaiKLCbb;
    private javax.swing.JComboBox<String> loaiPhongCbb;
    private javax.swing.JButton luuLaiCPButton;
    private javax.swing.JButton luuLaiKLButton;
    private javax.swing.JButton luuLaiPhongButton;
    private javax.swing.JButton luuLaiTraPButton;
    private javax.swing.JTextField maPhieuCPTF;
    private javax.swing.JTextField maPhieuKLTF;
    private javax.swing.JTextField maPhieuTPTF;
    private javax.swing.JTextField maPhieuTraPTF;
    private javax.swing.JTextField maPhongCuTF;
    private javax.swing.JFormattedTextField maPhongFT;
    private javax.swing.JComboBox<Integer> maPhongMoiCbb;
    private javax.swing.JTextField maPhongSVTF;
    private javax.swing.JComboBox<Integer> maPhongTPCbb;
    private javax.swing.JTextField maPhongTraPTF;
    private javax.swing.JTextField maQLCPTF;
    private javax.swing.JTextField maQLKLTF;
    private javax.swing.JTextField maQLTPTF;
    private javax.swing.JTextField maQLTraPTF;
    private javax.swing.JFormattedTextField maSVCPFT;
    private javax.swing.JFormattedTextField maSVFT;
    private javax.swing.JTextField maSVKLTF;
    private javax.swing.JRadioButton maSVRb;
    private javax.swing.JFormattedTextField maSVTPFT;
    private javax.swing.JFormattedTextField maSVTraPFT;
    private javax.swing.JRadioButton namSVRB;
    private javax.swing.JComboBox<String> namTKCbb;
    private javax.swing.JRadioButton namTPRadioButton;
    private javax.swing.JCheckBox nganhCb;
    private javax.swing.JComboBox<String> nganhSVCbb;
    private javax.swing.JComboBox<String> nganhSVTPCbb;
    private com.toedter.calendar.JDateChooser ngayChuyenDC;
    private com.toedter.calendar.JDateChooser ngaySinhSVDV;
    private com.toedter.calendar.JDateChooser ngaySinhSVTPDC;
    private com.toedter.calendar.JDateChooser ngayTraDC;
    private com.toedter.calendar.JDateChooser ngayVaoSVDC;
    private com.toedter.calendar.JDateChooser ngayVaoSVTPDC;
    private com.toedter.calendar.JDateChooser ngayViPhamDC;
    private javax.swing.JTextArea noiDungKLTA;
    private javax.swing.JRadioButton nuSVRB;
    private javax.swing.JRadioButton nuTPRadioButton;
    private javax.swing.JMenu phongMenu;
    private javax.swing.JPanel phongPanel;
    private javax.swing.JTable phongTable;
    private javax.swing.JMenu qLPhongMenu;
    private javax.swing.JMenu qLTaiKhoanMenu;
    private javax.swing.JButton qLThietBiButton;
    private javax.swing.JLabel quanLyCPLabel;
    private javax.swing.JLabel quanLyKyLuatLabel;
    private javax.swing.JLabel quanLyPhongLabel;
    private javax.swing.JLabel quanLySVLabel;
    private javax.swing.JPanel quanLySVPanel;
    private javax.swing.JLabel quanLyTPLabel;
    private javax.swing.JPanel quanLyTPPanel;
    private javax.swing.JLabel quanLyTraPLabel;
    private javax.swing.JButton refreshButton;
    private javax.swing.JButton refreshCPButton;
    private javax.swing.JButton refreshKLButton;
    private javax.swing.JButton refreshSVButton;
    private javax.swing.JButton refreshSVTPButton;
    private javax.swing.JButton refreshTraPButton;
    private javax.swing.JFormattedTextField sdtSVTF;
    private javax.swing.JFormattedTextField sdtSVTPFT;
    private javax.swing.ButtonGroup searchButtonGroup;
    private javax.swing.JButton searchSV1Button;
    private javax.swing.JButton searchSVButton;
    private javax.swing.JMenu sinhVienMenu;
    private javax.swing.JPanel sinhVienPanel;
    private javax.swing.JTable sinhVienTable;
    private javax.swing.JSpinner soGiuongSp;
    private javax.swing.JTextField soLanViPhamSVTF;
    private javax.swing.JSpinner soNguoiSp;
    private javax.swing.JButton suaCPButton;
    private javax.swing.JButton suaKLButton;
    private javax.swing.JButton suaPhongButton;
    private javax.swing.JButton suaSVButton;
    private javax.swing.JButton suaSVTPButton;
    private javax.swing.JButton suaTraPButton;
    private javax.swing.JMenu taiKhoanMenu;
    private javax.swing.JComboBox<String> thangTKCbb;
    private javax.swing.JButton themKyLuatButton;
    private javax.swing.JButton themPhongButton;
    private javax.swing.JButton themSVTPButton;
    private javax.swing.JButton thongKeKLButton;
    private javax.swing.JMenu thuTienMenu;
    private javax.swing.JMenuItem thuePhongMenu;
    private javax.swing.JPanel thuePhongPanel;
    private javax.swing.JTable thuePhongTable;
    private javax.swing.JToggleButton traPhongButton;
    private javax.swing.JMenuItem traPhongMenu;
    private javax.swing.JPanel traPhongPanel;
    private javax.swing.JButton traPhongSVButton;
    private javax.swing.JTable traPhongTable;
    private javax.swing.JTextField trangThaiSVTF;
    private javax.swing.JButton xoaPhongButton;
    private javax.swing.JButton xuatFileSVButton;
    // End of variables declaration//GEN-END:variables

}
